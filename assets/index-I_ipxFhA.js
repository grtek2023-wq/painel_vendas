(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ku={exports:{}},ci={},Gu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Gh=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),xa=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=xa&&t[xa]||t["@@iterator"],typeof t=="function"?t:null)}var Qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ju=Object.assign,Yu={};function Zr(t,e,r){this.props=t,this.context=e,this.refs=Yu,this.updater=r||Qu}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xu(){}Xu.prototype=Zr.prototype;function vl(t,e,r){this.props=t,this.context=e,this.refs=Yu,this.updater=r||Qu}var wl=vl.prototype=new Xu;wl.constructor=vl;Ju(wl,Zr.prototype);wl.isPureReactComponent=!0;var ba=Array.isArray,Zu=Object.prototype.hasOwnProperty,_l={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function tc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zu.call(e,n)&&!ec.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Jn,type:t,key:i,ref:o,props:s,_owner:_l.current}}function Zh(t,e){return{$$typeof:Jn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jn}function ef(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ka=/\/+/g;function Ai(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ef(""+t.key):e.toString(36)}function Es(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jn:case Bh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ai(o,0):n,ba(s)?(r="",t!=null&&(r=t.replace(ka,"$&/")+"/"),Es(s,e,r,"",function(u){return u})):s!=null&&(xl(s)&&(s=Zh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ka,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ba(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+Ai(i,l);o+=Es(i,e,r,a,s)}else if(a=Xh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+Ai(i,l++),o+=Es(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ss(t,e,r){if(t==null)return t;var n=[],s=0;return Es(t,n,"","",function(i){return e.call(r,i,s++)}),n}function tf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},js={transition:null},rf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:js,ReactCurrentOwner:_l};function rc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ss,forEach:function(t,e,r){ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ss(t,function(){e++}),e},toArray:function(t){return ss(t,function(e){return e})||[]},only:function(t){if(!xl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=Zr;D.Fragment=Wh;D.Profiler=Vh;D.PureComponent=vl;D.StrictMode=Hh;D.Suspense=Qh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf;D.act=rc;D.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ju({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_l.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Zu.call(e,a)&&!ec.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Jn,type:t.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(t){return t={$$typeof:Kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qh,_context:t},t.Consumer=t};D.createElement=tc;D.createFactory=function(t){var e=tc.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Gh,render:t}};D.isValidElement=xl;D.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:tf}};D.memo=function(t,e){return{$$typeof:Jh,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=js.transition;js.transition={};try{t()}finally{js.transition=e}};D.unstable_act=rc;D.useCallback=function(t,e){return be.current.useCallback(t,e)};D.useContext=function(t){return be.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return be.current.useDeferredValue(t)};D.useEffect=function(t,e){return be.current.useEffect(t,e)};D.useId=function(){return be.current.useId()};D.useImperativeHandle=function(t,e,r){return be.current.useImperativeHandle(t,e,r)};D.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return be.current.useMemo(t,e)};D.useReducer=function(t,e,r){return be.current.useReducer(t,e,r)};D.useRef=function(t){return be.current.useRef(t)};D.useState=function(t){return be.current.useState(t)};D.useSyncExternalStore=function(t,e,r){return be.current.useSyncExternalStore(t,e,r)};D.useTransition=function(){return be.current.useTransition()};D.version="18.3.1";Gu.exports=D;var $=Gu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=$,sf=Symbol.for("react.element"),of=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,af=nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function nc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lf.call(e,n)&&!uf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:sf,type:t,key:i,ref:o,props:s,_owner:af.current}}ci.Fragment=of;ci.jsx=nc;ci.jsxs=nc;Ku.exports=ci;var c=Ku.exports,sc={exports:{}},Ie={},ic={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var A=N.length;N.push(R);e:for(;0<A;){var V=A-1>>>1,Q=N[V];if(0<s(Q,R))N[V]=R,N[A]=Q,A=V;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var R=N[0],A=N.pop();if(A!==R){N[0]=A;e:for(var V=0,Q=N.length,yr=Q>>>1;V<yr;){var dt=2*(V+1)-1,sn=N[dt],Te=dt+1,vr=N[Te];if(0>s(sn,A))Te<Q&&0>s(vr,sn)?(N[V]=vr,N[Te]=A,V=Te):(N[V]=sn,N[dt]=A,V=dt);else if(Te<Q&&0>s(vr,A))N[V]=vr,N[Te]=A,V=Te;else break e}}return R}function s(N,R){var A=N.sortIndex-R.sortIndex;return A!==0?A:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,p=3,v=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=N)n(u),R.sortIndex=R.expirationTime,e(a,R);else break;R=r(u)}}function _(N){if(w=!1,m(N),!y)if(r(a)!==null)y=!0,ut(S);else{var R=r(u);R!==null&&ct(_,R.startTime-N)}}function S(N,R){y=!1,w&&(w=!1,g(P),P=-1),v=!0;var A=p;try{for(m(R),h=r(a);h!==null&&(!(h.expirationTime>R)||N&&!ne());){var V=h.callback;if(typeof V=="function"){h.callback=null,p=h.priorityLevel;var Q=V(h.expirationTime<=R);R=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(a)&&n(a),m(R)}else n(a);h=r(a)}if(h!==null)var yr=!0;else{var dt=r(u);dt!==null&&ct(_,dt.startTime-R),yr=!1}return yr}finally{h=null,p=A,v=!1}}var k=!1,E=null,P=-1,G=5,L=-1;function ne(){return!(t.unstable_now()-L<G)}function Ue(){if(E!==null){var N=t.unstable_now();L=N;var R=!0;try{R=E(!0,N)}finally{R?jt():(k=!1,E=null)}}else k=!1}var jt;if(typeof f=="function")jt=function(){f(Ue)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Yt=tt.port2;tt.port1.onmessage=Ue,jt=function(){Yt.postMessage(null)}}else jt=function(){x(Ue,0)};function ut(N){E=N,k||(k=!0,jt())}function ct(N,R){P=x(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ut(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(N){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var A=p;p=R;try{return N()}finally{p=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var A=p;p=N;try{return R()}finally{p=A}},t.unstable_scheduleCallback=function(N,R,A){var V=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=A+Q,N={id:d++,callback:R,priorityLevel:N,startTime:A,expirationTime:Q,sortIndex:-1},A>V?(N.sortIndex=A,e(u,N),r(a)===null&&N===r(u)&&(w?(g(P),P=-1):w=!0,ct(_,A-V))):(N.sortIndex=Q,e(a,N),y||v||(y=!0,ut(S))),N},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(N){var R=p;return function(){var A=p;p=R;try{return N.apply(this,arguments)}finally{p=A}}}})(oc);ic.exports=oc;var cf=ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=$,Ae=cf;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lc=new Set,Rn={};function pr(t,e){Vr(t,e),Vr(t+"Capture",e)}function Vr(t,e){for(Rn[t]=e,t=0;t<e.length;t++)lc.add(e[t])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sa={},Ea={};function ff(t){return go.call(Ea,t)?!0:go.call(Sa,t)?!1:hf.test(t)?Ea[t]=!0:(Sa[t]=!0,!1)}function pf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,r,n){if(e===null||typeof e>"u"||pf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var bl=/[\-:]([a-z])/g;function kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bl,kl);pe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bl,kl);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bl,kl);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sl(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,r,s,n)&&(r=null),n||s===null?ff(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Et=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),ac=Symbol.for("react.provider"),uc=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),cc=Symbol.for("react.offscreen"),ja=Symbol.iterator;function on(t){return t===null||typeof t!="object"?null:(t=ja&&t[ja]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ii;function gn(t){if(Ii===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ii=e&&e[1]||""}return`
`+Ii+t}var Li=!1;function Ui(t,e){if(!t||Li)return"";Li=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Li=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gn(t):""}function mf(t){switch(t.tag){case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return t=Ui(t.type,!1),t;case 11:return t=Ui(t.type.render,!1),t;case 1:return t=Ui(t.type,!0),t;default:return""}}function wo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nr:return"Fragment";case Cr:return"Portal";case mo:return"Profiler";case El:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uc:return(t.displayName||"Context")+".Consumer";case ac:return(t._context.displayName||"Context")+".Provider";case jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:wo(t.type)||"Memo";case Tt:e=t._payload,t=t._init;try{return wo(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vf(t){var e=dc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function os(t){t._valueTracker||(t._valueTracker=vf(t))}function hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _o(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ca(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Vt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fc(t,e){e=e.checked,e!=null&&Sl(t,"checked",e,!1)}function xo(t,e){fc(t,e);var r=Vt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bo(t,e.type,r):e.hasOwnProperty("defaultValue")&&bo(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Na(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bo(t,e,r){(e!=="number"||Us(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var mn=Array.isArray;function zr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Vt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pa(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(b(92));if(mn(r)){if(1<r.length)throw Error(b(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Vt(r)}}function pc(t,e){var r=Vt(e.value),n=Vt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ta(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ls,mc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $n(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_n[e]=_n[t]})});function yc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_n.hasOwnProperty(t)&&_n[t]?(""+e).trim():e+"px"}function vc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var _f=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(t,e){if(e){if(_f[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=null;function Nl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,Mr=null,Fr=null;function Oa(t){if(t=Zn(t)){if(typeof No!="function")throw Error(b(280));var e=t.stateNode;e&&(e=gi(e),No(t.stateNode,t.type,e))}}function wc(t){Mr?Fr?Fr.push(t):Fr=[t]:Mr=t}function _c(){if(Mr){var t=Mr,e=Fr;if(Fr=Mr=null,Oa(t),e)for(t=0;t<e.length;t++)Oa(e[t])}}function xc(t,e){return t(e)}function bc(){}var Di=!1;function kc(t,e,r){if(Di)return t(e,r);Di=!0;try{return xc(t,e,r)}finally{Di=!1,(Mr!==null||Fr!==null)&&(bc(),_c())}}function An(t,e){var r=t.stateNode;if(r===null)return null;var n=gi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,e,typeof r));return r}var Po=!1;if(xt)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Po=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Po=!1}function xf(t,e,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var xn=!1,Ds=null,zs=!1,To=null,bf={onError:function(t){xn=!0,Ds=t}};function kf(t,e,r,n,s,i,o,l,a){xn=!1,Ds=null,xf.apply(bf,arguments)}function Sf(t,e,r,n,s,i,o,l,a){if(kf.apply(this,arguments),xn){if(xn){var u=Ds;xn=!1,Ds=null}else throw Error(b(198));zs||(zs=!0,To=u)}}function gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Sc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(gr(t)!==t)throw Error(b(188))}function Ef(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(b(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ra(s),t;if(i===n)return Ra(s),e;i=i.sibling}throw Error(b(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:e}function Ec(t){return t=Ef(t),t!==null?jc(t):null}function jc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jc(t);if(e!==null)return e;t=t.sibling}return null}var Cc=Ae.unstable_scheduleCallback,$a=Ae.unstable_cancelCallback,jf=Ae.unstable_shouldYield,Cf=Ae.unstable_requestPaint,re=Ae.unstable_now,Nf=Ae.unstable_getCurrentPriorityLevel,Pl=Ae.unstable_ImmediatePriority,Nc=Ae.unstable_UserBlockingPriority,Ms=Ae.unstable_NormalPriority,Pf=Ae.unstable_LowPriority,Pc=Ae.unstable_IdlePriority,di=null,lt=null;function Tf(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:$f,Of=Math.log,Rf=Math.LN2;function $f(t){return t>>>=0,t===0?32:31-(Of(t)/Rf|0)|0}var as=64,us=4194304;function yn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=yn(l):(i&=o,i!==0&&(n=yn(i)))}else o=r&~s,o!==0?n=yn(o):i!==0&&(n=yn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function Af(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=Af(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Oo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tc(){var t=as;return as<<=1,!(as&4194240)&&(as=64),t}function zi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function Lf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Tl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var B=0;function Oc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rc,Ol,$c,Ac,Ic,Ro=!1,cs=[],Ut=null,Dt=null,zt=null,In=new Map,Ln=new Map,Rt=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":In.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(e.pointerId)}}function an(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zn(e),e!==null&&Ol(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Df(t,e,r,n,s){switch(e){case"focusin":return Ut=an(Ut,t,e,r,n,s),!0;case"dragenter":return Dt=an(Dt,t,e,r,n,s),!0;case"mouseover":return zt=an(zt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return In.set(i,an(In.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ln.set(i,an(Ln.get(i)||null,t,e,r,n,s)),!0}return!1}function Lc(t){var e=sr(t.target);if(e!==null){var r=gr(e);if(r!==null){if(e=r.tag,e===13){if(e=Sc(r),e!==null){t.blockedOn=e,Ic(t.priority,function(){$c(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=$o(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Co=n,r.target.dispatchEvent(n),Co=null}else return e=Zn(r),e!==null&&Ol(e),t.blockedOn=r,!1;e.shift()}return!0}function Ia(t,e,r){Cs(t)&&r.delete(e)}function zf(){Ro=!1,Ut!==null&&Cs(Ut)&&(Ut=null),Dt!==null&&Cs(Dt)&&(Dt=null),zt!==null&&Cs(zt)&&(zt=null),In.forEach(Ia),Ln.forEach(Ia)}function un(t,e){t.blockedOn===e&&(t.blockedOn=null,Ro||(Ro=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,zf)))}function Un(t){function e(s){return un(s,t)}if(0<cs.length){un(cs[0],t);for(var r=1;r<cs.length;r++){var n=cs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ut!==null&&un(Ut,t),Dt!==null&&un(Dt,t),zt!==null&&un(zt,t),In.forEach(e),Ln.forEach(e),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)Lc(r),r.blockedOn===null&&Rt.shift()}var Br=Et.ReactCurrentBatchConfig,Bs=!0;function Mf(t,e,r,n){var s=B,i=Br.transition;Br.transition=null;try{B=1,Rl(t,e,r,n)}finally{B=s,Br.transition=i}}function Ff(t,e,r,n){var s=B,i=Br.transition;Br.transition=null;try{B=4,Rl(t,e,r,n)}finally{B=s,Br.transition=i}}function Rl(t,e,r,n){if(Bs){var s=$o(t,e,r,n);if(s===null)Qi(t,e,n,Ws,r),Aa(t,n);else if(Df(s,t,e,r,n))n.stopPropagation();else if(Aa(t,n),e&4&&-1<Uf.indexOf(t)){for(;s!==null;){var i=Zn(s);if(i!==null&&Rc(i),i=$o(t,e,r,n),i===null&&Qi(t,e,n,Ws,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qi(t,e,n,null,r)}}var Ws=null;function $o(t,e,r,n){if(Ws=null,t=Nl(n),t=sr(t),t!==null)if(e=gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Sc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function Uc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case Pl:return 1;case Nc:return 4;case Ms:case Pf:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var It=null,$l=null,Ns=null;function Dc(){if(Ns)return Ns;var t,e=$l,r=e.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ns=s.slice(t,1<n?1-n:void 0)}function Ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function La(){return!1}function Le(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:La,this.isPropagationStopped=La,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Le(en),Xn=Z({},en,{view:0,detail:0}),Bf=Le(Xn),Mi,Fi,cn,hi=Z({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&t.type==="mousemove"?(Mi=t.screenX-cn.screenX,Fi=t.screenY-cn.screenY):Fi=Mi=0,cn=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),Ua=Le(hi),Wf=Z({},hi,{dataTransfer:0}),Hf=Le(Wf),Vf=Z({},Xn,{relatedTarget:0}),Bi=Le(Vf),qf=Z({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=Le(qf),Gf=Z({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qf=Le(Gf),Jf=Z({},en,{data:0}),Da=Le(Jf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zf[t])?!!e[t]:!1}function Il(){return ep}var tp=Z({},Xn,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rp=Le(tp),np=Z({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Le(np),sp=Z({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),ip=Le(sp),op=Z({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=Le(op),ap=Z({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Le(ap),cp=[9,13,27,32],Ll=xt&&"CompositionEvent"in window,bn=null;xt&&"documentMode"in document&&(bn=document.documentMode);var dp=xt&&"TextEvent"in window&&!bn,zc=xt&&(!Ll||bn&&8<bn&&11>=bn),Ma=" ",Fa=!1;function Mc(t,e){switch(t){case"keyup":return cp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function hp(t,e){switch(t){case"compositionend":return Fc(e);case"keypress":return e.which!==32?null:(Fa=!0,Ma);case"textInput":return t=e.data,t===Ma&&Fa?null:t;default:return null}}function fp(t,e){if(Pr)return t==="compositionend"||!Ll&&Mc(t,e)?(t=Dc(),Ns=$l=It=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zc&&e.locale!=="ko"?null:e.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ba(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pp[t.type]:e==="textarea"}function Bc(t,e,r,n){wc(n),e=Hs(e,"onChange"),0<e.length&&(r=new Al("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var kn=null,Dn=null;function gp(t){Zc(t,0)}function fi(t){var e=Rr(t);if(hc(e))return t}function mp(t,e){if(t==="change")return e}var Wc=!1;if(xt){var Wi;if(xt){var Hi="oninput"in document;if(!Hi){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Hi=typeof Wa.oninput=="function"}Wi=Hi}else Wi=!1;Wc=Wi&&(!document.documentMode||9<document.documentMode)}function Ha(){kn&&(kn.detachEvent("onpropertychange",Hc),Dn=kn=null)}function Hc(t){if(t.propertyName==="value"&&fi(Dn)){var e=[];Bc(e,Dn,t,Nl(t)),kc(gp,e)}}function yp(t,e,r){t==="focusin"?(Ha(),kn=e,Dn=r,kn.attachEvent("onpropertychange",Hc)):t==="focusout"&&Ha()}function vp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Dn)}function wp(t,e){if(t==="click")return fi(e)}function _p(t,e){if(t==="input"||t==="change")return fi(e)}function xp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:xp;function zn(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!go.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Va(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qa(t,e){var r=Va(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Va(r)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qc(){for(var t=window,e=Us();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Us(t.document)}return e}function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bp(t){var e=qc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Vc(r.ownerDocument.documentElement,r)){if(n!==null&&Ul(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=qa(r,i);var o=qa(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kp=xt&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ao=null,Sn=null,Io=!1;function Ka(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Io||Tr==null||Tr!==Us(n)||(n=Tr,"selectionStart"in n&&Ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sn&&zn(Sn,n)||(Sn=n,n=Hs(Ao,"onSelect"),0<n.length&&(e=new Al("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Tr)))}function hs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Or={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Vi={},Kc={};xt&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function pi(t){if(Vi[t])return Vi[t];if(!Or[t])return t;var e=Or[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Kc)return Vi[t]=e[r];return t}var Gc=pi("animationend"),Qc=pi("animationiteration"),Jc=pi("animationstart"),Yc=pi("transitionend"),Xc=new Map,Ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){Xc.set(t,e),pr(e,[t])}for(var qi=0;qi<Ga.length;qi++){var Ki=Ga[qi],Sp=Ki.toLowerCase(),Ep=Ki[0].toUpperCase()+Ki.slice(1);Kt(Sp,"on"+Ep)}Kt(Gc,"onAnimationEnd");Kt(Qc,"onAnimationIteration");Kt(Jc,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(Yc,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vn));function Qa(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Sf(n,e,void 0,t),t.currentTarget=null}function Zc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,u),i=a}}}if(zs)throw t=To,zs=!1,To=null,t}function q(t,e){var r=e[Mo];r===void 0&&(r=e[Mo]=new Set);var n=t+"__bubble";r.has(n)||(ed(e,t,2,!1),r.add(n))}function Gi(t,e,r){var n=0;e&&(n|=4),ed(r,t,n,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Mn(t){if(!t[fs]){t[fs]=!0,lc.forEach(function(r){r!=="selectionchange"&&(jp.has(r)||Gi(r,!1,t),Gi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,Gi("selectionchange",!1,e))}}function ed(t,e,r,n){switch(Uc(e)){case 1:var s=Mf;break;case 4:s=Ff;break;default:s=Rl}r=s.bind(null,e,r,t),s=void 0,!Po||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Qi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=sr(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}kc(function(){var u=i,d=Nl(r),h=[];e:{var p=Xc.get(t);if(p!==void 0){var v=Al,y=t;switch(t){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":v=rp;break;case"focusin":y="focus",v=Bi;break;case"focusout":y="blur",v=Bi;break;case"beforeblur":case"afterblur":v=Bi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ip;break;case Gc:case Qc:case Jc:v=Kf;break;case Yc:v=lp;break;case"scroll":v=Bf;break;case"wheel":v=up;break;case"copy":case"cut":case"paste":v=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=za}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,m;f!==null;){m=f;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=An(f,g),_!=null&&w.push(Fn(f,_,m)))),x)break;f=f.return}0<w.length&&(p=new v(p,y,null,r,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==Co&&(y=r.relatedTarget||r.fromElement)&&(sr(y)||y[bt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?sr(y):null,y!==null&&(x=gr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Ua,_="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=za,_="onPointerLeave",g="onPointerEnter",f="pointer"),x=v==null?p:Rr(v),m=y==null?p:Rr(y),p=new w(_,f+"leave",v,r,d),p.target=x,p.relatedTarget=m,_=null,sr(d)===u&&(w=new w(g,f+"enter",y,r,d),w.target=m,w.relatedTarget=x,_=w),x=_,v&&y)t:{for(w=v,g=y,f=0,m=w;m;m=wr(m))f++;for(m=0,_=g;_;_=wr(_))m++;for(;0<f-m;)w=wr(w),f--;for(;0<m-f;)g=wr(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=wr(w),g=wr(g)}w=null}else w=null;v!==null&&Ja(h,p,v,w,!1),y!==null&&x!==null&&Ja(h,x,y,w,!0)}}e:{if(p=u?Rr(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=mp;else if(Ba(p))if(Wc)S=_p;else{S=vp;var k=yp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=wp);if(S&&(S=S(t,u))){Bc(h,S,r,d);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&bo(p,"number",p.value)}switch(k=u?Rr(u):window,t){case"focusin":(Ba(k)||k.contentEditable==="true")&&(Tr=k,Ao=u,Sn=null);break;case"focusout":Sn=Ao=Tr=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Ka(h,r,d);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Ka(h,r,d)}var E;if(Ll)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pr?Mc(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(zc&&r.locale!=="ko"&&(Pr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pr&&(E=Dc()):(It=d,$l="value"in It?It.value:It.textContent,Pr=!0)),k=Hs(u,P),0<k.length&&(P=new Da(P,t,null,r,d),h.push({event:P,listeners:k}),E?P.data=E:(E=Fc(r),E!==null&&(P.data=E)))),(E=dp?hp(t,r):fp(t,r))&&(u=Hs(u,"onBeforeInput"),0<u.length&&(d=new Da("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Zc(h,e)})}function Fn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=An(t,r),i!=null&&n.unshift(Fn(t,i,s)),i=An(t,e),i!=null&&n.push(Fn(t,i,s))),t=t.return}return n}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ja(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=An(r,i),a!=null&&o.unshift(Fn(r,a,l))):s||(a=An(r,i),a!=null&&o.push(Fn(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Cp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function Ya(t){return(typeof t=="string"?t:""+t).replace(Cp,`
`).replace(Np,"")}function ps(t,e,r){if(e=Ya(e),Ya(t)!==e&&r)throw Error(b(425))}function Vs(){}var Lo=null,Uo=null;function Do(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zo=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Xa=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xa<"u"?function(t){return Xa.resolve(null).then(t).catch(Op)}:zo;function Op(t){setTimeout(function(){throw t})}function Ji(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Un(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Un(e)}function Mt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Za(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tn=Math.random().toString(36).slice(2),ot="__reactFiber$"+tn,Bn="__reactProps$"+tn,bt="__reactContainer$"+tn,Mo="__reactEvents$"+tn,Rp="__reactListeners$"+tn,$p="__reactHandles$"+tn;function sr(t){var e=t[ot];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bt]||r[ot]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Za(t);t!==null;){if(r=t[ot])return r;t=Za(t)}return e}t=r,r=t.parentNode}return null}function Zn(t){return t=t[ot]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function gi(t){return t[Bn]||null}var Fo=[],$r=-1;function Gt(t){return{current:t}}function K(t){0>$r||(t.current=Fo[$r],Fo[$r]=null,$r--)}function H(t,e){$r++,Fo[$r]=t.current,t.current=e}var qt={},ve=Gt(qt),Ce=Gt(!1),ur=qt;function qr(t,e){var r=t.type.contextTypes;if(!r)return qt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function qs(){K(Ce),K(ve)}function eu(t,e,r){if(ve.current!==qt)throw Error(b(168));H(ve,e),H(Ce,r)}function td(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(b(108,yf(t)||"Unknown",s));return Z({},r,n)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,ur=ve.current,H(ve,t),H(Ce,Ce.current),!0}function tu(t,e,r){var n=t.stateNode;if(!n)throw Error(b(169));r?(t=td(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,K(Ce),K(ve),H(ve,t)):K(Ce),H(Ce,r)}var yt=null,mi=!1,Yi=!1;function rd(t){yt===null?yt=[t]:yt.push(t)}function Ap(t){mi=!0,rd(t)}function Qt(){if(!Yi&&yt!==null){Yi=!0;var t=0,e=B;try{var r=yt;for(B=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}yt=null,mi=!1}catch(s){throw yt!==null&&(yt=yt.slice(t+1)),Cc(Pl,Qt),s}finally{B=e,Yi=!1}}return null}var Ar=[],Ir=0,Gs=null,Qs=0,ze=[],Me=0,cr=null,vt=1,wt="";function er(t,e){Ar[Ir++]=Qs,Ar[Ir++]=Gs,Gs=t,Qs=e}function nd(t,e,r){ze[Me++]=vt,ze[Me++]=wt,ze[Me++]=cr,cr=t;var n=vt;t=wt;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vt=1<<32-Xe(e)+s|r<<s|n,wt=i+t}else vt=1<<i|r<<s|n,wt=t}function Dl(t){t.return!==null&&(er(t,1),nd(t,1,0))}function zl(t){for(;t===Gs;)Gs=Ar[--Ir],Ar[Ir]=null,Qs=Ar[--Ir],Ar[Ir]=null;for(;t===cr;)cr=ze[--Me],ze[Me]=null,wt=ze[--Me],ze[Me]=null,vt=ze[--Me],ze[Me]=null}var $e=null,Re=null,J=!1,Ye=null;function sd(t,e){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ru(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Re=Mt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Re=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:vt,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Re=null,!0):!1;default:return!1}}function Bo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wo(t){if(J){var e=Re;if(e){var r=e;if(!ru(t,e)){if(Bo(t))throw Error(b(418));e=Mt(r.nextSibling);var n=$e;e&&ru(t,e)?sd(n,r):(t.flags=t.flags&-4097|2,J=!1,$e=t)}}else{if(Bo(t))throw Error(b(418));t.flags=t.flags&-4097|2,J=!1,$e=t}}}function nu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function gs(t){if(t!==$e)return!1;if(!J)return nu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Do(t.type,t.memoizedProps)),e&&(e=Re)){if(Bo(t))throw id(),Error(b(418));for(;e;)sd(t,e),e=Mt(e.nextSibling)}if(nu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Re=Mt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Re=null}}else Re=$e?Mt(t.stateNode.nextSibling):null;return!0}function id(){for(var t=Re;t;)t=Mt(t.nextSibling)}function Kr(){Re=$e=null,J=!1}function Ml(t){Ye===null?Ye=[t]:Ye.push(t)}var Ip=Et.ReactCurrentBatchConfig;function dn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function su(t){var e=t._init;return e(t._payload)}function od(t){function e(g,f){if(t){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Ht(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,m,_){return f===null||f.tag!==6?(f=so(m,g.mode,_),f.return=g,f):(f=s(f,m),f.return=g,f)}function a(g,f,m,_){var S=m.type;return S===Nr?d(g,f,m.props.children,_,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&su(S)===f.type)?(_=s(f,m.props),_.ref=dn(g,f,m),_.return=g,_):(_=Ls(m.type,m.key,m.props,null,g.mode,_),_.ref=dn(g,f,m),_.return=g,_)}function u(g,f,m,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=io(m,g.mode,_),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function d(g,f,m,_,S){return f===null||f.tag!==7?(f=ar(m,g.mode,_,S),f.return=g,f):(f=s(f,m),f.return=g,f)}function h(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=so(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case is:return m=Ls(f.type,f.key,f.props,null,g.mode,m),m.ref=dn(g,null,f),m.return=g,m;case Cr:return f=io(f,g.mode,m),f.return=g,f;case Tt:var _=f._init;return h(g,_(f._payload),m)}if(mn(f)||on(f))return f=ar(f,g.mode,m,null),f.return=g,f;ms(g,f)}return null}function p(g,f,m,_){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(g,f,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case is:return m.key===S?a(g,f,m,_):null;case Cr:return m.key===S?u(g,f,m,_):null;case Tt:return S=m._init,p(g,f,S(m._payload),_)}if(mn(m)||on(m))return S!==null?null:d(g,f,m,_,null);ms(g,m)}return null}function v(g,f,m,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,l(f,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case is:return g=g.get(_.key===null?m:_.key)||null,a(f,g,_,S);case Cr:return g=g.get(_.key===null?m:_.key)||null,u(f,g,_,S);case Tt:var k=_._init;return v(g,f,m,k(_._payload),S)}if(mn(_)||on(_))return g=g.get(m)||null,d(f,g,_,S,null);ms(f,_)}return null}function y(g,f,m,_){for(var S=null,k=null,E=f,P=f=0,G=null;E!==null&&P<m.length;P++){E.index>P?(G=E,E=null):G=E.sibling;var L=p(g,E,m[P],_);if(L===null){E===null&&(E=G);break}t&&E&&L.alternate===null&&e(g,E),f=i(L,f,P),k===null?S=L:k.sibling=L,k=L,E=G}if(P===m.length)return r(g,E),J&&er(g,P),S;if(E===null){for(;P<m.length;P++)E=h(g,m[P],_),E!==null&&(f=i(E,f,P),k===null?S=E:k.sibling=E,k=E);return J&&er(g,P),S}for(E=n(g,E);P<m.length;P++)G=v(E,g,P,m[P],_),G!==null&&(t&&G.alternate!==null&&E.delete(G.key===null?P:G.key),f=i(G,f,P),k===null?S=G:k.sibling=G,k=G);return t&&E.forEach(function(ne){return e(g,ne)}),J&&er(g,P),S}function w(g,f,m,_){var S=on(m);if(typeof S!="function")throw Error(b(150));if(m=S.call(m),m==null)throw Error(b(151));for(var k=S=null,E=f,P=f=0,G=null,L=m.next();E!==null&&!L.done;P++,L=m.next()){E.index>P?(G=E,E=null):G=E.sibling;var ne=p(g,E,L.value,_);if(ne===null){E===null&&(E=G);break}t&&E&&ne.alternate===null&&e(g,E),f=i(ne,f,P),k===null?S=ne:k.sibling=ne,k=ne,E=G}if(L.done)return r(g,E),J&&er(g,P),S;if(E===null){for(;!L.done;P++,L=m.next())L=h(g,L.value,_),L!==null&&(f=i(L,f,P),k===null?S=L:k.sibling=L,k=L);return J&&er(g,P),S}for(E=n(g,E);!L.done;P++,L=m.next())L=v(E,g,P,L.value,_),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?P:L.key),f=i(L,f,P),k===null?S=L:k.sibling=L,k=L);return t&&E.forEach(function(Ue){return e(g,Ue)}),J&&er(g,P),S}function x(g,f,m,_){if(typeof m=="object"&&m!==null&&m.type===Nr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case is:e:{for(var S=m.key,k=f;k!==null;){if(k.key===S){if(S=m.type,S===Nr){if(k.tag===7){r(g,k.sibling),f=s(k,m.props.children),f.return=g,g=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&su(S)===k.type){r(g,k.sibling),f=s(k,m.props),f.ref=dn(g,k,m),f.return=g,g=f;break e}r(g,k);break}else e(g,k);k=k.sibling}m.type===Nr?(f=ar(m.props.children,g.mode,_,m.key),f.return=g,g=f):(_=Ls(m.type,m.key,m.props,null,g.mode,_),_.ref=dn(g,f,m),_.return=g,g=_)}return o(g);case Cr:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=io(m,g.mode,_),f.return=g,g=f}return o(g);case Tt:return k=m._init,x(g,f,k(m._payload),_)}if(mn(m))return y(g,f,m,_);if(on(m))return w(g,f,m,_);ms(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=so(m,g.mode,_),f.return=g,g=f),o(g)):r(g,f)}return x}var Gr=od(!0),ld=od(!1),Js=Gt(null),Ys=null,Lr=null,Fl=null;function Bl(){Fl=Lr=Ys=null}function Wl(t){var e=Js.current;K(Js),t._currentValue=e}function Ho(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wr(t,e){Ys=t,Fl=Lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Fl!==t)if(t={context:t,memoizedValue:e,next:null},Lr===null){if(Ys===null)throw Error(b(308));Lr=t,Ys.dependencies={lanes:0,firstContext:t}}else Lr=Lr.next=t;return e}var ir=null;function Hl(t){ir===null?ir=[t]:ir.push(t)}function ad(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Hl(e)):(r.next=s.next,s.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ot=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,kt(t,r)}return s=n.interleaved,s===null?(e.next=e,Hl(n)):(e.next=s.next,s.next=e),n.interleaved=e,kt(t,r)}function Ts(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}function iu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xs(t,e,r,n){var s=t.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(p=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=Z({},h,p);break e;case 2:Ot=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=h):d=d.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function ou(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(b(191,s));s.call(n)}}}var es={},at=Gt(es),Wn=Gt(es),Hn=Gt(es);function or(t){if(t===es)throw Error(b(174));return t}function ql(t,e){switch(H(Hn,e),H(Wn,t),H(at,es),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:So(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=So(e,t)}K(at),H(at,e)}function Qr(){K(at),K(Wn),K(Hn)}function cd(t){or(Hn.current);var e=or(at.current),r=So(e,t.type);e!==r&&(H(Wn,t),H(at,r))}function Kl(t){Wn.current===t&&(K(at),K(Wn))}var Y=Gt(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xi=[];function Gl(){for(var t=0;t<Xi.length;t++)Xi[t]._workInProgressVersionPrimary=null;Xi.length=0}var Os=Et.ReactCurrentDispatcher,Zi=Et.ReactCurrentBatchConfig,dr=0,X=null,le=null,ue=null,ei=!1,En=!1,Vn=0,Lp=0;function ge(){throw Error(b(321))}function Ql(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function Jl(t,e,r,n,s,i){if(dr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Os.current=t===null||t.memoizedState===null?Mp:Fp,t=r(n,s),En){i=0;do{if(En=!1,Vn=0,25<=i)throw Error(b(301));i+=1,ue=le=null,e.updateQueue=null,Os.current=Bp,t=r(n,s)}while(En)}if(Os.current=ti,e=le!==null&&le.next!==null,dr=0,ue=le=X=null,ei=!1,e)throw Error(b(300));return t}function Yl(){var t=Vn!==0;return Vn=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function Ve(){if(le===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,le=t;else{if(t===null)throw Error(b(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function qn(t,e){return typeof e=="function"?e(t):e}function eo(t){var e=Ve(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((dr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,X.lanes|=d,hr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,et(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function to(t){var e=Ve(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function dd(){}function hd(t,e){var r=X,n=Ve(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,Xl(gd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Kn(9,pd.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(b(349));dr&30||fd(r,e,s)}return s}function fd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pd(t,e,r,n){e.value=r,e.getSnapshot=n,md(e)&&yd(t)}function gd(t,e,r){return r(function(){md(e)&&yd(t)})}function md(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function yd(t){var e=kt(t,1);e!==null&&Ze(e,t,1,-1)}function lu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},e.queue=t,t=t.dispatch=zp.bind(null,X,t),[e.memoizedState,t]}function Kn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function vd(){return Ve().memoizedState}function Rs(t,e,r,n){var s=st();X.flags|=t,s.memoizedState=Kn(1|e,r,void 0,n===void 0?null:n)}function yi(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&Ql(n,o.deps)){s.memoizedState=Kn(e,r,i,n);return}}X.flags|=t,s.memoizedState=Kn(1|e,r,i,n)}function au(t,e){return Rs(8390656,8,t,e)}function Xl(t,e){return yi(2048,8,t,e)}function wd(t,e){return yi(4,2,t,e)}function _d(t,e){return yi(4,4,t,e)}function xd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bd(t,e,r){return r=r!=null?r.concat([t]):null,yi(4,4,xd.bind(null,e,t),r)}function Zl(){}function kd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ql(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Sd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ql(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ed(t,e,r){return dr&21?(et(r,e)||(r=Tc(),X.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function Up(t,e){var r=B;B=r!==0&&4>r?r:4,t(!0);var n=Zi.transition;Zi.transition={};try{t(!1),e()}finally{B=r,Zi.transition=n}}function jd(){return Ve().memoizedState}function Dp(t,e,r){var n=Wt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cd(t))Nd(e,r);else if(r=ad(t,e,r,n),r!==null){var s=xe();Ze(r,t,n,s),Pd(r,e,n)}}function zp(t,e,r){var n=Wt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cd(t))Nd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,et(l,o)){var a=e.interleaved;a===null?(s.next=s,Hl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=ad(t,e,s,n),r!==null&&(s=xe(),Ze(r,t,n,s),Pd(r,e,n))}}function Cd(t){var e=t.alternate;return t===X||e!==null&&e===X}function Nd(t,e){En=ei=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Pd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}var ti={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Mp={readContext:He,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:au,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Rs(4194308,4,xd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rs(4,2,t,e)},useMemo:function(t,e){var r=st();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=st();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Dp.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:Zl,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=Up.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=st();if(J){if(r===void 0)throw Error(b(407));r=r()}else{if(r=e(),ce===null)throw Error(b(349));dr&30||fd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,au(gd.bind(null,n,i,t),[t]),n.flags|=2048,Kn(9,pd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=st(),e=ce.identifierPrefix;if(J){var r=wt,n=vt;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Lp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fp={readContext:He,useCallback:kd,useContext:He,useEffect:Xl,useImperativeHandle:bd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:Sd,useReducer:eo,useRef:vd,useState:function(){return eo(qn)},useDebugValue:Zl,useDeferredValue:function(t){var e=Ve();return Ed(e,le.memoizedState,t)},useTransition:function(){var t=eo(qn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:jd,unstable_isNewReconciler:!1},Bp={readContext:He,useCallback:kd,useContext:He,useEffect:Xl,useImperativeHandle:bd,useInsertionEffect:wd,useLayoutEffect:_d,useMemo:Sd,useReducer:to,useRef:vd,useState:function(){return to(qn)},useDebugValue:Zl,useDeferredValue:function(t){var e=Ve();return le===null?e.memoizedState=t:Ed(e,le.memoizedState,t)},useTransition:function(){var t=to(qn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:jd,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Vo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vi={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Wt(t),i=_t(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ft(t,i,s),e!==null&&(Ze(e,t,s,n),Ts(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Wt(t),i=_t(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ft(t,i,s),e!==null&&(Ze(e,t,s,n),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=Wt(t),s=_t(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ft(t,s,n),e!==null&&(Ze(e,t,n,r),Ts(e,t,n))}};function uu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!zn(r,n)||!zn(s,i):!0}function Td(t,e,r){var n=!1,s=qt,i=e.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Ne(e)?ur:ve.current,n=e.contextTypes,i=(n=n!=null)?qr(t,s):qt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vi.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Ne(e)?ur:ve.current,s.context=qr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vi.enqueueReplaceState(s,s.state,null),Xs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var r="",n=e;do r+=mf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ro(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ko(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Od(t,e,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ni||(ni=!0,nl=n),Ko(t,e)},r}function Rd(t,e,r){r=_t(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ko(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ko(t,e),typeof n!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function du(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Wp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=ng.bind(null,t,e,r),e.then(t,t))}function hu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_t(-1,1),e.tag=2,Ft(r,e,1))),r.lanes|=1),t)}var Hp=Et.ReactCurrentOwner,je=!1;function _e(t,e,r,n){e.child=t===null?ld(e,null,r,n):Gr(e,t.child,r,n)}function pu(t,e,r,n,s){r=r.render;var i=e.ref;return Wr(e,s),n=Jl(t,e,r,n,i,s),r=Yl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(J&&r&&Dl(e),e.flags|=1,_e(t,e,n,s),e.child)}function gu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$d(t,e,i,n,s)):(t=Ls(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(o,n)&&t.ref===e.ref)return St(t,e,s)}return e.flags|=1,t=Ht(i,n),t.ref=e.ref,t.return=e,e.child=t}function $d(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(zn(i,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,St(t,e,s)}return Go(t,e,r,n,s)}function Ad(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Dr,Oe),Oe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Dr,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(Dr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,H(Dr,Oe),Oe|=n;return _e(t,e,s,r),e.child}function Id(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Go(t,e,r,n,s){var i=Ne(r)?ur:ve.current;return i=qr(e,i),Wr(e,s),r=Jl(t,e,r,n,i,s),n=Yl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(J&&n&&Dl(e),e.flags|=1,_e(t,e,r,s),e.child)}function mu(t,e,r,n,s){if(Ne(r)){var i=!0;Ks(e)}else i=!1;if(Wr(e,s),e.stateNode===null)$s(t,e),Td(e,r,n),qo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Ne(r)?ur:ve.current,u=qr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&cu(e,o,n,u),Ot=!1;var p=e.memoizedState;o.state=p,Xs(e,n,o,s),a=e.memoizedState,l!==n||p!==a||Ce.current||Ot?(typeof d=="function"&&(Vo(e,r,d,n),a=e.memoizedState),(l=Ot||uu(e,r,l,n,p,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,ud(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ge(e.type,l),o.props=u,h=e.pendingProps,p=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=He(a):(a=Ne(r)?ur:ve.current,a=qr(e,a));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&cu(e,o,n,a),Ot=!1,p=e.memoizedState,o.state=p,Xs(e,n,o,s);var y=e.memoizedState;l!==h||p!==y||Ce.current||Ot?(typeof v=="function"&&(Vo(e,r,v,n),y=e.memoizedState),(u=Ot||uu(e,r,u,n,p,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Qo(t,e,r,n,i,s)}function Qo(t,e,r,n,s,i){Id(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&tu(e,r,!1),St(t,e,i);n=e.stateNode,Hp.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gr(e,t.child,null,i),e.child=Gr(e,null,l,i)):_e(t,e,l,i),e.memoizedState=n.state,s&&tu(e,r,!0),e.child}function Ld(t){var e=t.stateNode;e.pendingContext?eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eu(t,e.context,!1),ql(t,e.containerInfo)}function yu(t,e,r,n,s){return Kr(),Ml(s),e.flags|=256,_e(t,e,r,n),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ud(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(Y,s&1),t===null)return Wo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,n,0,null),t=ar(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yo(r),e.memoizedState=Jo,t):ea(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Vp(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Ht(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ht(l,i):(i=ar(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Yo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Jo,n}return i=t.child,t=i.sibling,n=Ht(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ea(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ys(t,e,r,n){return n!==null&&Ml(n),Gr(e,t.child,null,r),t=ea(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ro(Error(b(422))),ys(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=xi({mode:"visible",children:n.children},s,0,null),i=ar(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gr(e,t.child,null,o),e.child.memoizedState=Yo(o),e.memoizedState=Jo,i);if(!(e.mode&1))return ys(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(b(419)),n=ro(i,n,void 0),ys(t,e,o,n)}if(l=(o&t.childLanes)!==0,je||l){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),Ze(n,t,s,-1))}return oa(),n=ro(Error(b(421))),ys(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Re=Mt(s.nextSibling),$e=e,J=!0,Ye=null,t!==null&&(ze[Me++]=vt,ze[Me++]=wt,ze[Me++]=cr,vt=t.id,wt=t.overflow,cr=e),e=ea(e,n.children),e.flags|=4096,e)}function vu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ho(t.return,e,r)}function no(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(_e(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vu(t,r,e);else if(t.tag===19)vu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(H(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Zs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),no(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}no(e,!0,r,null,i);break;case"together":no(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $s(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,r=Ht(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ht(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function qp(t,e,r){switch(e.tag){case 3:Ld(e),Kr();break;case 5:cd(e);break;case 1:Ne(e.type)&&Ks(e);break;case 4:ql(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;H(Js,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(H(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Ud(t,e,r):(H(Y,Y.current&1),t=St(t,e,r),t!==null?t.sibling:null);H(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Dd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,r)}return St(t,e,r)}var zd,Xo,Md,Fd;zd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xo=function(){};Md=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,or(at.current);var i=null;switch(r){case"input":s=_o(t,s),n=_o(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),n=ko(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vs)}Eo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Fd=function(t,e,r,n){r!==n&&(e.flags|=4)};function hn(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Kp(t,e,r){var n=e.pendingProps;switch(zl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Ne(e.type)&&qs(),me(e),null;case 3:return n=e.stateNode,Qr(),K(Ce),K(ve),Gl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(ol(Ye),Ye=null))),Xo(t,e),me(e),null;case 5:Kl(e);var s=or(Hn.current);if(r=e.type,t!==null&&e.stateNode!=null)Md(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(b(166));return me(e),null}if(t=or(at.current),gs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ot]=e,n[Bn]=i,t=(e.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<vn.length;s++)q(vn[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":Ca(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Pa(n,i),q("invalid",n)}Eo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,l,t),s=["children",""+l]):Rn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",n)}switch(r){case"input":os(n),Na(n,i,!0);break;case"textarea":os(n),Ta(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ot]=e,t[Bn]=n,zd(t,e,!1,!1),e.stateNode=t;e:{switch(o=jo(r,n),r){case"dialog":q("cancel",t),q("close",t),s=n;break;case"iframe":case"object":case"embed":q("load",t),s=n;break;case"video":case"audio":for(s=0;s<vn.length;s++)q(vn[s],t);s=n;break;case"source":q("error",t),s=n;break;case"img":case"image":case"link":q("error",t),q("load",t),s=n;break;case"details":q("toggle",t),s=n;break;case"input":Ca(t,n),s=_o(t,n),q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),q("invalid",t);break;case"textarea":Pa(t,n),s=ko(t,n),q("invalid",t);break;default:s=n}Eo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?vc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&mc(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&$n(t,a):typeof a=="number"&&$n(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&q("scroll",t):a!=null&&Sl(t,i,a,o))}switch(r){case"input":os(t),Na(t,n,!1);break;case"textarea":os(t),Ta(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Vt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?zr(t,!!n.multiple,i,!1):n.defaultValue!=null&&zr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Fd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(r=or(Hn.current),or(at.current),gs(e)){if(n=e.stateNode,r=e.memoizedProps,n[ot]=e,(i=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:ps(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=e,e.stateNode=n}return me(e),null;case 13:if(K(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Re!==null&&e.mode&1&&!(e.flags&128))id(),Kr(),e.flags|=98560,i=!1;else if(i=gs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[ot]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Ye!==null&&(ol(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ae===0&&(ae=3):oa())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Qr(),Xo(t,e),t===null&&Mn(e.stateNode.containerInfo),me(e),null;case 10:return Wl(e.type._context),me(e),null;case 17:return Ne(e.type)&&qs(),me(e),null;case 19:if(K(Y),i=e.memoizedState,i===null)return me(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)hn(i,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,hn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Yr&&(e.flags|=128,n=!0,hn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Zs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return me(e),null}else 2*re()-i.renderingStartTime>Yr&&r!==1073741824&&(e.flags|=128,n=!0,hn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,r=Y.current,H(Y,n?r&1|2:r&1),e):(me(e),null);case 22:case 23:return ia(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Oe&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Gp(t,e){switch(zl(e),e.tag){case 1:return Ne(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qr(),K(Ce),K(ve),Gl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kl(e),null;case 13:if(K(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Y),null;case 4:return Qr(),null;case 10:return Wl(e.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var vs=!1,ye=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Ur(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(t,e,n)}else r.current=null}function Zo(t,e,r){try{r()}catch(n){te(t,e,n)}}var wu=!1;function Jp(t,e){if(Lo=Bs,t=qc(),Ul(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===r&&++u===s&&(l=o),p===i&&++d===n&&(a=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uo={focusedElem:t,selectionRange:r},Bs=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ge(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(_){te(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=wu,wu=!1,y}function jn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(e,r,i)}s=s.next}while(s!==n)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function el(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Bd(t){var e=t.alternate;e!==null&&(t.alternate=null,Bd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[Bn],delete e[Mo],delete e[Rp],delete e[$p])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wd(t){return t.tag===5||t.tag===3||t.tag===4}function _u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vs));else if(n!==4&&(t=t.child,t!==null))for(tl(t,e,r),t=t.sibling;t!==null;)tl(t,e,r),t=t.sibling}function rl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(rl(t,e,r),t=t.sibling;t!==null;)rl(t,e,r),t=t.sibling}var he=null,Qe=!1;function Ct(t,e,r){for(r=r.child;r!==null;)Hd(t,e,r),r=r.sibling}function Hd(t,e,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(di,r)}catch{}switch(r.tag){case 5:ye||Ur(r,e);case 6:var n=he,s=Qe;he=null,Ct(t,e,r),he=n,Qe=s,he!==null&&(Qe?(t=he,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Qe?(t=he,r=r.stateNode,t.nodeType===8?Ji(t.parentNode,r):t.nodeType===1&&Ji(t,r),Un(t)):Ji(he,r.stateNode));break;case 4:n=he,s=Qe,he=r.stateNode.containerInfo,Qe=!0,Ct(t,e,r),he=n,Qe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(r,e,o),s=s.next}while(s!==n)}Ct(t,e,r);break;case 1:if(!ye&&(Ur(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,e,l)}Ct(t,e,r);break;case 21:Ct(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ct(t,e,r),ye=n):Ct(t,e,r);break;default:Ct(t,e,r)}}function xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Qp),e.forEach(function(n){var s=ig.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,Qe=!1;break e;case 3:he=l.stateNode.containerInfo,Qe=!0;break e;case 4:he=l.stateNode.containerInfo,Qe=!0;break e}l=l.return}if(he===null)throw Error(b(160));Hd(i,o,s),he=null,Qe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),nt(t),n&4){try{jn(3,t,t.return),wi(3,t)}catch(w){te(t,t.return,w)}try{jn(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:qe(e,t),nt(t),n&512&&r!==null&&Ur(r,r.return);break;case 5:if(qe(e,t),nt(t),n&512&&r!==null&&Ur(r,r.return),t.flags&32){var s=t.stateNode;try{$n(s,"")}catch(w){te(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fc(s,i),jo(l,o);var u=jo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?vc(s,h):d==="dangerouslySetInnerHTML"?mc(s,h):d==="children"?$n(s,h):Sl(s,d,h,u)}switch(l){case"input":xo(s,i);break;case"textarea":pc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?zr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?zr(s,!!i.multiple,i.defaultValue,!0):zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bn]=i}catch(w){te(t,t.return,w)}}break;case 6:if(qe(e,t),nt(t),n&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){te(t,t.return,w)}}break;case 3:if(qe(e,t),nt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Un(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:qe(e,t),nt(t);break;case 13:qe(e,t),nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(na=re())),n&4&&xu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(u=ye)||d,qe(e,t),ye=u):qe(e,t),nt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(p=C,v=p.child,p.tag){case 0:case 11:case 14:case 15:jn(4,p,p.return);break;case 1:Ur(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){te(n,r,w)}}break;case 5:Ur(p,p.return);break;case 22:if(p.memoizedState!==null){ku(h);continue}}v!==null?(v.return=p,C=v):ku(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=yc("display",o))}catch(w){te(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){te(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(e,t),nt(t),n&4&&xu(t);break;case 21:break;default:qe(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Wd(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($n(s,""),n.flags&=-33);var i=_u(t);rl(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=_u(t);tl(t,l,o);break;default:throw Error(b(161))}}catch(a){te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,r){C=t,qd(t)}function qd(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=vs;var u=ye;if(vs=o,(ye=a)&&!u)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?Su(s):a!==null?(a.return=o,C=a):Su(s);for(;i!==null;)C=i,qd(i),i=i.sibling;C=s,vs=l,ye=u}bu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):bu(t)}}function bu(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||wi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ge(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ou(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ou(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Un(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}ye||e.flags&512&&el(e)}catch(p){te(e,e.return,p)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function ku(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function Su(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wi(4,e)}catch(a){te(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){te(e,s,a)}}var i=e.return;try{el(e)}catch(a){te(e,i,a)}break;case 5:var o=e.return;try{el(e)}catch(a){te(e,o,a)}}}catch(a){te(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Xp=Math.ceil,ri=Et.ReactCurrentDispatcher,ta=Et.ReactCurrentOwner,Be=Et.ReactCurrentBatchConfig,z=0,ce=null,se=null,fe=0,Oe=0,Dr=Gt(0),ae=0,Gn=null,hr=0,_i=0,ra=0,Cn=null,Se=null,na=0,Yr=1/0,gt=null,ni=!1,nl=null,Bt=null,ws=!1,Lt=null,si=0,Nn=0,sl=null,As=-1,Is=0;function xe(){return z&6?re():As!==-1?As:As=re()}function Wt(t){return t.mode&1?z&2&&fe!==0?fe&-fe:Ip.transition!==null?(Is===0&&(Is=Tc()),Is):(t=B,t!==0||(t=window.event,t=t===void 0?16:Uc(t.type)),t):1}function Ze(t,e,r,n){if(50<Nn)throw Nn=0,sl=null,Error(b(185));Yn(t,r,n),(!(z&2)||t!==ce)&&(t===ce&&(!(z&2)&&(_i|=r),ae===4&&$t(t,fe)),Pe(t,n),r===1&&z===0&&!(e.mode&1)&&(Yr=re()+500,mi&&Qt()))}function Pe(t,e){var r=t.callbackNode;If(t,e);var n=Fs(t,t===ce?fe:0);if(n===0)r!==null&&$a(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$a(r),e===1)t.tag===0?Ap(Eu.bind(null,t)):rd(Eu.bind(null,t)),Tp(function(){!(z&6)&&Qt()}),r=null;else{switch(Oc(n)){case 1:r=Pl;break;case 4:r=Nc;break;case 16:r=Ms;break;case 536870912:r=Pc;break;default:r=Ms}r=eh(r,Kd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Kd(t,e){if(As=-1,Is=0,z&6)throw Error(b(327));var r=t.callbackNode;if(Hr()&&t.callbackNode!==r)return null;var n=Fs(t,t===ce?fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ii(t,n);else{e=n;var s=z;z|=2;var i=Qd();(ce!==t||fe!==e)&&(gt=null,Yr=re()+500,lr(t,e));do try{tg();break}catch(l){Gd(t,l)}while(!0);Bl(),ri.current=i,z=s,se!==null?e=0:(ce=null,fe=0,e=ae)}if(e!==0){if(e===2&&(s=Oo(t),s!==0&&(n=s,e=il(t,s))),e===1)throw r=Gn,lr(t,0),$t(t,n),Pe(t,re()),r;if(e===6)$t(t,n);else{if(s=t.current.alternate,!(n&30)&&!Zp(s)&&(e=ii(t,n),e===2&&(i=Oo(t),i!==0&&(n=i,e=il(t,i))),e===1))throw r=Gn,lr(t,0),$t(t,n),Pe(t,re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(b(345));case 2:tr(t,Se,gt);break;case 3:if($t(t,n),(n&130023424)===n&&(e=na+500-re(),10<e)){if(Fs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zo(tr.bind(null,t,Se,gt),e);break}tr(t,Se,gt);break;case 4:if($t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xp(n/1960))-n,10<n){t.timeoutHandle=zo(tr.bind(null,t,Se,gt),n);break}tr(t,Se,gt);break;case 5:tr(t,Se,gt);break;default:throw Error(b(329))}}}return Pe(t,re()),t.callbackNode===r?Kd.bind(null,t):null}function il(t,e){var r=Cn;return t.current.memoizedState.isDehydrated&&(lr(t,e).flags|=256),t=ii(t,e),t!==2&&(e=Se,Se=r,e!==null&&ol(e)),t}function ol(t){Se===null?Se=t:Se.push.apply(Se,t)}function Zp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~ra,e&=~_i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function Eu(t){if(z&6)throw Error(b(327));Hr();var e=Fs(t,0);if(!(e&1))return Pe(t,re()),null;var r=ii(t,e);if(t.tag!==0&&r===2){var n=Oo(t);n!==0&&(e=n,r=il(t,n))}if(r===1)throw r=Gn,lr(t,0),$t(t,e),Pe(t,re()),r;if(r===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tr(t,Se,gt),Pe(t,re()),null}function sa(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(Yr=re()+500,mi&&Qt())}}function fr(t){Lt!==null&&Lt.tag===0&&!(z&6)&&Hr();var e=z;z|=1;var r=Be.transition,n=B;try{if(Be.transition=null,B=1,t)return t()}finally{B=n,Be.transition=r,z=e,!(z&6)&&Qt()}}function ia(){Oe=Dr.current,K(Dr)}function lr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Pp(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(zl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qs();break;case 3:Qr(),K(Ce),K(ve),Gl();break;case 5:Kl(n);break;case 4:Qr();break;case 13:K(Y);break;case 19:K(Y);break;case 10:Wl(n.type._context);break;case 22:case 23:ia()}r=r.return}if(ce=t,se=t=Ht(t.current,null),fe=Oe=e,ae=0,Gn=null,ra=_i=hr=0,Se=Cn=null,ir!==null){for(e=0;e<ir.length;e++)if(r=ir[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ir=null}return t}function Gd(t,e){do{var r=se;try{if(Bl(),Os.current=ti,ei){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ei=!1}if(dr=0,ue=le=X=null,En=!1,Vn=0,ta.current=null,r===null||r.return===null){ae=1,Gn=e,se=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=fe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=hu(o);if(v!==null){v.flags&=-257,fu(v,o,l,i,e),v.mode&1&&du(i,u,e),e=v,a=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(a),e.updateQueue=w}else y.add(a);break e}else{if(!(e&1)){du(i,u,e),oa();break e}a=Error(b(426))}}else if(J&&l.mode&1){var x=hu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fu(x,o,l,i,e),Ml(Jr(a,l));break e}}i=a=Jr(a,l),ae!==4&&(ae=2),Cn===null?Cn=[i]:Cn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Od(i,a,e);iu(i,g);break e;case 1:l=a;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bt===null||!Bt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Rd(i,l,e);iu(i,_);break e}}i=i.return}while(i!==null)}Yd(r)}catch(S){e=S,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function Qd(){var t=ri.current;return ri.current=ti,t===null?ti:t}function oa(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(hr&268435455)&&!(_i&268435455)||$t(ce,fe)}function ii(t,e){var r=z;z|=2;var n=Qd();(ce!==t||fe!==e)&&(gt=null,lr(t,e));do try{eg();break}catch(s){Gd(t,s)}while(!0);if(Bl(),z=r,ri.current=n,se!==null)throw Error(b(261));return ce=null,fe=0,ae}function eg(){for(;se!==null;)Jd(se)}function tg(){for(;se!==null&&!jf();)Jd(se)}function Jd(t){var e=Zd(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Yd(t):se=e,ta.current=null}function Yd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Gp(r,e),r!==null){r.flags&=32767,se=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,se=null;return}}else if(r=Kp(r,e,Oe),r!==null){se=r;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ae===0&&(ae=5)}function tr(t,e,r){var n=B,s=Be.transition;try{Be.transition=null,B=1,rg(t,e,r,n)}finally{Be.transition=s,B=n}return null}function rg(t,e,r,n){do Hr();while(Lt!==null);if(z&6)throw Error(b(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lf(t,i),t===ce&&(se=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ws||(ws=!0,eh(Ms,function(){return Hr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=B;B=1;var l=z;z|=4,ta.current=null,Jp(t,r),Vd(r,t),bp(Uo),Bs=!!Lo,Uo=Lo=null,t.current=r,Yp(r),Cf(),z=l,B=o,Be.transition=i}else t.current=r;if(ws&&(ws=!1,Lt=t,si=s),i=t.pendingLanes,i===0&&(Bt=null),Tf(r.stateNode),Pe(t,re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=nl,nl=null,t;return si&1&&t.tag!==0&&Hr(),i=t.pendingLanes,i&1?t===sl?Nn++:(Nn=0,sl=t):Nn=0,Qt(),null}function Hr(){if(Lt!==null){var t=Oc(si),e=Be.transition,r=B;try{if(Be.transition=null,B=16>t?16:t,Lt===null)var n=!1;else{if(t=Lt,Lt=null,si=0,z&6)throw Error(b(331));var s=z;for(z|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:jn(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var p=d.sibling,v=d.return;if(Bd(d),d===u){C=null;break}if(p!==null){p.return=v,C=p;break}C=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var f=t.current;for(C=f;C!==null;){o=C;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,C=m;else e:for(o=f;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wi(9,l)}}catch(S){te(l,l.return,S)}if(l===o){C=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,C=_;break e}C=l.return}}if(z=s,Qt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(di,t)}catch{}n=!0}return n}finally{B=r,Be.transition=e}}return!1}function ju(t,e,r){e=Jr(r,e),e=Od(t,e,1),t=Ft(t,e,1),e=xe(),t!==null&&(Yn(t,1,e),Pe(t,e))}function te(t,e,r){if(t.tag===3)ju(t,t,r);else for(;e!==null;){if(e.tag===3){ju(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bt===null||!Bt.has(n))){t=Jr(r,t),t=Rd(e,t,1),e=Ft(e,t,1),t=xe(),e!==null&&(Yn(e,1,t),Pe(e,t));break}}e=e.return}}function ng(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>re()-na?lr(t,0):ra|=r),Pe(t,e)}function Xd(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var r=xe();t=kt(t,e),t!==null&&(Yn(t,e,r),Pe(t,r))}function sg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Xd(t,r)}function ig(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(e),Xd(t,r)}var Zd;Zd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,qp(t,e,r);je=!!(t.flags&131072)}else je=!1,J&&e.flags&1048576&&nd(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$s(t,e),t=e.pendingProps;var s=qr(e,ve.current);Wr(e,r),s=Jl(null,e,n,t,s,r);var i=Yl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(n)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(e),s.updater=vi,e.stateNode=s,s._reactInternals=e,qo(e,n,t,r),e=Qo(null,e,n,!0,i,r)):(e.tag=0,J&&i&&Dl(e),_e(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch($s(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=lg(n),t=Ge(n,t),s){case 0:e=Go(null,e,n,t,r);break e;case 1:e=mu(null,e,n,t,r);break e;case 11:e=pu(null,e,n,t,r);break e;case 14:e=gu(null,e,n,Ge(n.type,t),r);break e}throw Error(b(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),Go(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),mu(t,e,n,s,r);case 3:e:{if(Ld(e),t===null)throw Error(b(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ud(t,e),Xs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jr(Error(b(423)),e),e=yu(t,e,n,r,s);break e}else if(n!==s){s=Jr(Error(b(424)),e),e=yu(t,e,n,r,s);break e}else for(Re=Mt(e.stateNode.containerInfo.firstChild),$e=e,J=!0,Ye=null,r=ld(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){e=St(t,e,r);break e}_e(t,e,n,r)}e=e.child}return e;case 5:return cd(e),t===null&&Wo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Do(n,s)?o=null:i!==null&&Do(n,i)&&(e.flags|=32),Id(t,e),_e(t,e,o,r),e.child;case 6:return t===null&&Wo(e),null;case 13:return Ud(t,e,r);case 4:return ql(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):_e(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),pu(t,e,n,s,r);case 7:return _e(t,e,e.pendingProps,r),e.child;case 8:return _e(t,e,e.pendingProps.children,r),e.child;case 12:return _e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,H(Js,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Ce.current){e=St(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=_t(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ho(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ho(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Wr(e,r),s=He(s),n=n(s),e.flags|=1,_e(t,e,n,r),e.child;case 14:return n=e.type,s=Ge(n,e.pendingProps),s=Ge(n.type,s),gu(t,e,n,s,r);case 15:return $d(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),$s(t,e),e.tag=1,Ne(n)?(t=!0,Ks(e)):t=!1,Wr(e,r),Td(e,n,s),qo(e,n,s,r),Qo(null,e,n,!0,t,r);case 19:return Dd(t,e,r);case 22:return Ad(t,e,r)}throw Error(b(156,e.tag))};function eh(t,e){return Cc(t,e)}function og(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,r,n){return new og(t,e,r,n)}function la(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lg(t){if(typeof t=="function")return la(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jl)return 11;if(t===Cl)return 14}return 2}function Ht(t,e){var r=t.alternate;return r===null?(r=Fe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ls(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")la(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nr:return ar(r.children,s,i,e);case El:o=8,s|=8;break;case mo:return t=Fe(12,r,e,s|2),t.elementType=mo,t.lanes=i,t;case yo:return t=Fe(13,r,e,s),t.elementType=yo,t.lanes=i,t;case vo:return t=Fe(19,r,e,s),t.elementType=vo,t.lanes=i,t;case cc:return xi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ac:o=10;break e;case uc:o=9;break e;case jl:o=11;break e;case Cl:o=14;break e;case Tt:o=16,n=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Fe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ar(t,e,r,n){return t=Fe(7,t,n,e),t.lanes=r,t}function xi(t,e,r,n){return t=Fe(22,t,n,e),t.elementType=cc,t.lanes=r,t.stateNode={isHidden:!1},t}function so(t,e,r){return t=Fe(6,t,null,e),t.lanes=r,t}function io(t,e,r){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ag(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aa(t,e,r,n,s,i,o,l,a){return t=new ag(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),t}function ug(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function th(t){if(!t)return qt;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var r=t.type;if(Ne(r))return td(t,r,e)}return e}function rh(t,e,r,n,s,i,o,l,a){return t=aa(r,n,!0,t,s,i,o,l,a),t.context=th(null),r=t.current,n=xe(),s=Wt(r),i=_t(n,s),i.callback=e??null,Ft(r,i,s),t.current.lanes=s,Yn(t,s,n),Pe(t,n),t}function bi(t,e,r,n){var s=e.current,i=xe(),o=Wt(s);return r=th(r),e.context===null?e.context=r:e.pendingContext=r,e=_t(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ft(s,e,o),t!==null&&(Ze(t,s,o,i),Ts(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ua(t,e){Cu(t,e),(t=t.alternate)&&Cu(t,e)}function cg(){return null}var nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ca(t){this._internalRoot=t}ki.prototype.render=ca.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));bi(t,e,null,null)};ki.prototype.unmount=ca.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){bi(null,t,null,null)}),e[bt]=null}};function ki(t){this._internalRoot=t}ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rt.length&&e!==0&&e<Rt[r].priority;r++);Rt.splice(r,0,t),r===0&&Lc(t)}};function da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function dg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=oi(o);i.call(u)}}var o=rh(e,n,t,0,null,!1,!1,"",Nu);return t._reactRootContainer=o,t[bt]=o.current,Mn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=oi(a);l.call(u)}}var a=aa(t,0,!1,null,null,!1,!1,"",Nu);return t._reactRootContainer=a,t[bt]=a.current,Mn(t.nodeType===8?t.parentNode:t),fr(function(){bi(e,a,r,n)}),a}function Ei(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=oi(o);l.call(a)}}bi(e,o,t,s)}else o=dg(r,e,t,s,n);return oi(o)}Rc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=yn(e.pendingLanes);r!==0&&(Tl(e,r|1),Pe(e,re()),!(z&6)&&(Yr=re()+500,Qt()))}break;case 13:fr(function(){var n=kt(t,1);if(n!==null){var s=xe();Ze(n,t,1,s)}}),ua(t,1)}};Ol=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=xe();Ze(e,t,134217728,r)}ua(t,134217728)}};$c=function(t){if(t.tag===13){var e=Wt(t),r=kt(t,e);if(r!==null){var n=xe();Ze(r,t,e,n)}ua(t,e)}};Ac=function(){return B};Ic=function(t,e){var r=B;try{return B=t,e()}finally{B=r}};No=function(t,e,r){switch(e){case"input":if(xo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=gi(n);if(!s)throw Error(b(90));hc(n),xo(n,s)}}}break;case"textarea":pc(t,r);break;case"select":e=r.value,e!=null&&zr(t,!!r.multiple,e,!1)}};xc=sa;bc=fr;var hg={usingClientEntryPoint:!1,Events:[Zn,Rr,gi,wc,_c,sa]},fn={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fg={bundleType:fn.bundleType,version:fn.version,rendererPackageName:fn.rendererPackageName,rendererConfig:fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ec(t),t===null?null:t.stateNode},findFiberByHostInstance:fn.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{di=_s.inject(fg),lt=_s}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(e))throw Error(b(200));return ug(t,e,null,r)};Ie.createRoot=function(t,e){if(!da(t))throw Error(b(299));var r=!1,n="",s=nh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=aa(t,1,!1,null,null,r,!1,n,s),t[bt]=e.current,Mn(t.nodeType===8?t.parentNode:t),new ca(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Ec(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return fr(t)};Ie.hydrate=function(t,e,r){if(!Si(e))throw Error(b(200));return Ei(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!da(t))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=nh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=rh(e,null,t,1,r??null,s,!1,i,o),t[bt]=e.current,Mn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ki(e)};Ie.render=function(t,e,r){if(!Si(e))throw Error(b(200));return Ei(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!Si(t))throw Error(b(40));return t._reactRootContainer?(fr(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};Ie.unstable_batchedUpdates=sa;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Si(r))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ei(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(t){console.error(t)}}sh(),sc.exports=Ie;var pg=sc.exports,ih,Pu=pg;ih=Pu.createRoot,Pu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>$.createElement("svg",{ref:d,...gg,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${mg(t)}`,l].join(" "),...u},[...e.map(([h,p])=>$.createElement(h,p)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=F("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=F("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=F("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=F("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=F("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=F("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Fg({userPin:t,currentPage:e,onNavigate:r,onLoginClick:n,onLogout:s,isAuthenticated:i=!1}){const[o,l]=$.useState(!1),[a,u]=$.useState(!1),[d,h]=$.useState(!1),p=[{id:"dashboard",label:"Dashboard",icon:Ng},{id:"historico",label:"Histrico",icon:xg},{id:"recarga",label:"Recarga",icon:bg},{id:"faq",label:"Perguntas Frequentes",icon:jg}],v=()=>{navigator.clipboard.writeText(t.toString()),l(!0),setTimeout(()=>l(!1),2e3)};return c.jsxs("nav",{className:"bg-cyber-black border-b-2 border-cyber-green h-16 flex items-center justify-between px-6",children:[c.jsxs("div",{className:"flex items-center gap-8",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-cyber-green flex items-center justify-center",children:c.jsx("span",{className:"text-cyber-black font-bold text-xl",children:"N"})}),c.jsx("span",{className:"text-cyber-green font-bold text-lg font-mono",children:"Nmero Virtual"})]}),c.jsx("div",{className:"flex items-center gap-1",children:p.map(y=>{const w=y.icon,x=e===y.id;return c.jsxs("button",{onClick:()=>{y.external?window.open("https://t.me/meunumerovirtual","_blank"):r(y.id)},className:`
                  flex items-center gap-2 px-4 py-2 border-2 transition-none
                  ${x?"bg-cyber-green text-cyber-black border-cyber-green":"bg-cyber-black text-cyber-green border-cyber-gray-dark hover:border-cyber-green"}
                `,children:[c.jsx(w,{size:18}),c.jsx("span",{className:"text-sm font-medium",children:y.label})]},y.id)})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[i&&t&&c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 border-2 border-cyber-green bg-cyber-gray-dark",children:[c.jsx("span",{className:"text-cyber-green text-sm font-mono",children:"PIN:"}),c.jsxs("span",{className:"text-white font-mono font-bold",children:["#",t]}),c.jsx("button",{onClick:v,className:"ml-1 p-1 hover:bg-cyber-green/20 transition-none",title:"Copiar PIN",children:c.jsx(fa,{size:16,className:"text-cyber-green"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>u(!a),className:"p-2 border-2 border-cyber-gray-dark hover:border-cyber-green bg-cyber-black transition-none",children:c.jsx(lh,{size:20,className:"text-cyber-green"})}),a&&c.jsx("div",{className:"absolute right-0 top-full mt-2 bg-cyber-gray-dark border-2 border-cyber-green min-w-[150px] z-50",children:c.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-cyber-green hover:text-cyber-black transition-none flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"text-sm",children:"Portugus"})]})})]}),i?c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>h(!d),className:`p-2 border-2 transition-none ${d||e==="perfil"?"border-cyber-green bg-cyber-green":"border-cyber-gray-dark bg-cyber-black hover:border-cyber-green"}`,children:c.jsx(li,{size:20,className:d||e==="perfil"?"text-cyber-black":"text-cyber-green"})}),d&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-cyber-gray-dark border-2 border-cyber-green min-w-[200px] z-50",children:[c.jsxs("button",{onClick:()=>{r("perfil"),h(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-cyber-green hover:text-cyber-black transition-none flex items-center gap-3 border-b border-cyber-gray-light",children:[c.jsx(_g,{size:18}),c.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:"Conta"})]}),c.jsxs("button",{onClick:()=>{s==null||s(),h(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-cyber-green hover:text-cyber-black transition-none flex items-center gap-3",children:[c.jsx(Rg,{size:18}),c.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:"Sair"})]})]})]}):c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 border-2 border-cyber-green bg-cyber-black text-cyber-green hover:bg-cyber-green hover:text-cyber-black transition-none font-bold text-sm uppercase tracking-wider",children:[c.jsx(Og,{size:18}),c.jsx("span",{children:"Login"})]})]})]})}function Bg({saldo:t,onRecarregar:e}){return c.jsx("div",{className:"bg-gradient-to-r from-cyber-green to-cyber-green-dark border-2 border-cyber-green p-6",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx(zg,{size:32,className:"text-cyber-black flex-shrink-0",strokeWidth:2.5}),c.jsx("span",{className:"text-cyber-black text-sm font-medium uppercase tracking-wider",children:"Saldo Total"})]}),c.jsxs("div",{className:"text-cyber-black text-5xl font-bold font-mono whitespace-nowrap",children:["R$",t.toFixed(2)]})]}),c.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-cyber-black border-2 border-cyber-black hover:border-cyber-green-dark transition-none whitespace-nowrap flex-shrink-0",children:[c.jsx("span",{className:"text-cyber-green text-sm font-medium",children:"Recarregar"}),c.jsx(yg,{size:16,className:"text-cyber-green"})]})]})})}function Wg({selectedCountry:t,countries:e,onCountryChange:r}){const n=e.filter(s=>s.active);return c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-white text-sm mb-2 flex items-center gap-2",children:[c.jsx(lh,{size:16,className:"text-cyber-green"}),"Selecione o Pas"]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:t,onChange:s=>r(Number(s.target.value)),className:"w-full bg-cyber-gray-dark text-white border-2 border-cyber-gray-light px-4 py-3 appearance-none cursor-pointer font-mono focus:border-cyber-green focus:outline-none transition-none",children:n.length===0?c.jsx("option",{value:"",children:"Carregando pases..."}):n.map(s=>c.jsxs("option",{value:s.id,children:[s.name," (",s.code.toUpperCase(),")"]},s.id))}),c.jsx(ha,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-cyber-green pointer-events-none",size:20})]})]})}function Hg({selectedOperator:t,onOperatorChange:e}){const r=[{id:"todas",label:"Aleatria"},{id:"oi",label:"OI"},{id:"surf",label:"SURF"},{id:"vivo",label:"VIVO"},{id:"claro",label:"CLARO"}];return c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-white text-sm mb-2",children:"Selecionar Operadora"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:t,onChange:n=>e(n.target.value),className:"w-full bg-cyber-gray-dark text-white border-2 border-cyber-gray-light px-4 py-3 appearance-none cursor-pointer font-mono focus:border-cyber-green focus:outline-none transition-none",children:r.map(n=>c.jsx("option",{value:n.id,children:n.label},n.id))}),c.jsx(ha,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-cyber-green pointer-events-none",size:20})]})]})}const Vg=void 0,qg=void 0;console.error("Missing Manus API configuration. Please add VITE_MANUS_API_URL and VITE_MANUS_API_KEY to your .env file");class Kg{constructor(){this.cache=new Map,this.CACHE_TTL=5*60*1e3}async request(e,r={}){const n=`${Vg}${e}`,s={"Content-Type":"application/json","X-API-Key":qg,...r.headers};try{const i=new AbortController,o=setTimeout(()=>i.abort(),3e4),l=await fetch(n,{...r,headers:s,signal:i.signal});if(clearTimeout(o),!l.ok){const a=await l.json().catch(()=>({error:"Unknown error",statusCode:l.status}));throw new Error(a.message||a.error||`API Error: ${l.status}`)}return await l.json()}catch(i){throw i instanceof Error?i.name==="AbortError"?new Error("Request timeout - please try again"):i:new Error("Unknown error occurred")}}getCached(e){const r=this.cache.get(e);return r&&Date.now()-r.timestamp<this.CACHE_TTL?r.data:null}setCache(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}async getServices(){const e="services",r=this.getCached(e);if(r)return r;const n=await this.request("/services");return this.setCache(e,n),n}async getCountries(){const e="countries",r=this.getCached(e);if(r)return r;const n=await this.request("/countries");return this.setCache(e,n),n}async getPrice(e,r){const n=`price_${e}_${r}`,s=this.getCached(n);if(s)return s;const i=await this.request(`/prices?countryId=${e}&serviceId=${r}`),o=i.length>0?i[0]:null;return o&&this.setCache(n,o),o}async createActivation(e){return await this.request("/activations",{method:"POST",body:JSON.stringify(e)})}async getActivationStatus(e){return await this.request(`/activations/${e}`)}async cancelActivation(e){return await this.request(`/activations/${e}/cancel`,{method:"POST"})}async getCustomerByEmail(e){return await this.request(`/customers/by-email?email=${encodeURIComponent(e)}`)}async createCustomer(e,r){const n={email:e};return r&&(n.name=r),await this.request("/customers",{method:"POST",body:JSON.stringify(n)})}async getCustomerByPin(e){return await this.request(`/customers/by-pin?pin=${e}`)}async getCustomerById(e){return await this.request(`/customers/${e}`)}clearCache(){this.cache.clear()}}const De=new Kg;function Gg({services:t,favorites:e,onToggleFavorite:r,onPurchase:n,showFavoritesOnly:s,onToggleFavoritesFilter:i,searchQuery:o,onSearchChange:l,selectedCountry:a}){const[u,d]=$.useState(new Map),[h,p]=$.useState(new Set);$.useEffect(()=>{v()},[t,a]);const v=async()=>{const w=new Map;for(const x of t){p(g=>new Set(g).add(x.id));try{const g=await De.getPrice(a,x.id);g&&w.set(x.id,{price:g.price/100,quantity:g.available})}catch(g){console.error(`Error loading price for service ${x.id}:`,g)}finally{p(g=>{const f=new Set(g);return f.delete(x.id),f})}}d(w)},y=t.filter(w=>{const x=w.name.toLowerCase().includes(o.toLowerCase()),g=!s||e.includes(w.id);return x&&g});return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-white text-sm",children:"Selecione o servio"}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-cyber-blue hover:text-white transition-none",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:i,className:"w-4 h-4 accent-cyber-green"}),c.jsx("span",{children:"Exibir favoritos"})]})]}),c.jsxs("div",{className:"mb-4 relative",children:[c.jsx(Lg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-cyber-green",size:18}),c.jsx("input",{type:"text",placeholder:"Pesquisar servios",value:o,onChange:w=>l(w.target.value),className:"w-full bg-cyber-gray-dark text-white border-2 border-cyber-gray-light pl-10 pr-4 py-2 focus:border-cyber-green focus:outline-none transition-none"})]}),c.jsxs("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:[y.map(w=>{const x=e.includes(w.id),g=w.name.charAt(0).toUpperCase(),f=u.get(w.id),m=h.has(w.id),_=f&&f.quantity===0,S=f&&f.quantity>0&&f.quantity<10;return c.jsx("div",{className:"border-2 border-cyber-gray-light bg-cyber-gray-dark",children:c.jsxs("div",{className:"flex items-center gap-3 p-3",children:[c.jsx("button",{onClick:()=>r(w.id),className:"transition-none",children:c.jsx(Dg,{size:20,className:x?"text-cyber-green fill-cyber-green":"text-cyber-green"})}),c.jsx("div",{className:"w-10 h-10 bg-cyber-green flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-cyber-black text-xl font-bold",children:g})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-white",children:w.name}),w.category&&c.jsx("div",{className:"text-xs text-cyber-gray-light",children:w.category})]}),m?c.jsx("div",{className:"text-cyber-gray-light text-sm px-4",children:"Carregando..."}):_?c.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm px-4",children:[c.jsx(oh,{size:16}),c.jsx("span",{children:"Esgotado"})]}):c.jsxs(c.Fragment,{children:[S&&c.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-xs px-2",children:[c.jsx(Ag,{size:14}),c.jsx("span",{children:f.quantity})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-cyber-green font-mono font-bold",children:["R$ ",(f==null?void 0:f.price.toFixed(2))||"-.--"]}),c.jsx("button",{onClick:()=>f&&n(w.id,f.price),disabled:_||!f,className:"px-4 py-2 bg-cyber-green text-cyber-black text-sm font-medium hover:bg-cyber-green-dark transition-none disabled:opacity-50 disabled:cursor-not-allowed",children:"Comprar"})]})]})]})},w.id)}),y.length===0&&c.jsx("div",{className:"text-center text-cyber-gray-light py-8",children:"Nenhum servio encontrado"})]})]})}function Qg({saldo:t,selectedCountry:e,selectedOperator:r,services:n,countries:s,favorites:i,showFavoritesOnly:o,searchQuery:l,onRecarregar:a,onCountryChange:u,onOperatorChange:d,onToggleFavorite:h,onPurchase:p,onToggleFavoritesFilter:v,onSearchChange:y}){return c.jsxs("div",{className:"w-96 bg-cyber-gray-dark border-r-2 border-cyber-green p-6 overflow-y-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx(Bg,{saldo:t,onRecarregar:a})}),c.jsx(Wg,{selectedCountry:e,countries:s,onCountryChange:u}),c.jsx(Hg,{selectedOperator:r,onOperatorChange:d}),c.jsx(Gg,{services:n,favorites:i,onToggleFavorite:h,onPurchase:p,showFavoritesOnly:o,onToggleFavoritesFilter:v,searchQuery:l,onSearchChange:y,selectedCountry:e})]})}function Jg({activations:t,services:e,onCopyNumber:r,onCancelActivation:n,isHistory:s=!1}){const[i,o]=$.useState(new Set),l=d=>e.find(h=>h.id===d),a=d=>{switch(d){case"aguardando":return{label:"Aguardando",bgColor:"bg-cyber-orange",textColor:"text-cyber-black"};case"concluido":return{label:"Concludo",bgColor:"bg-cyber-green",textColor:"text-cyber-black"};case"cancelado":return{label:"Cancelado",bgColor:"bg-cyber-red",textColor:"text-white"};case"expirado":return{label:"Expirado",bgColor:"bg-cyber-gray-light",textColor:"text-white"};default:return{label:d,bgColor:"bg-cyber-gray-light",textColor:"text-white"}}},u=d=>{const h=new Set(i);h.has(d)?h.delete(d):h.add(d),o(h)};return c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green",children:[c.jsxs("div",{className:"p-4 border-b-2 border-cyber-green flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-cyber-green animate-pulse"}),c.jsx("span",{className:"text-cyber-green text-lg font-bold",children:s?"Histrico de Ativaes":"Ativaes em andamento"})]}),c.jsxs("span",{className:"text-white text-sm",children:["Mostrando 1-10 de ",t.length," entradas"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-cyber-gray-light",children:[c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Servio"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Nmero"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Status"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Cdigo SMS"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Rest"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Status"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Ao"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center p-8 text-white",children:"Nenhuma ativao em andamento"})}):t.map(d=>{const h=l(d.service_id),p=a(d.status),v=i.has(d.id);return c.jsxs("tr",{className:"border-b border-cyber-gray-light hover:bg-cyber-gray-medium transition-none",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white text-sm",children:(h==null?void 0:h.name)||"Servio desconhecido"}),(h==null?void 0:h.category)&&c.jsxs("span",{className:"text-xs text-cyber-gray-light",children:["(",h.category,")"]})]})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white font-mono text-sm",children:d.numero}),c.jsx("button",{onClick:()=>r(d.numero),className:"p-1 hover:bg-cyber-gray-light transition-none",children:c.jsx(fa,{size:14,className:"text-cyber-green"})})]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"text-cyber-green text-sm",children:"Envie o cdigo SMS para o nmero recebido"})}),c.jsx("td",{className:"p-4",children:d.codigo_sms?c.jsxs("button",{onClick:()=>u(d.id),className:"flex items-center gap-1 text-cyber-blue text-sm font-mono hover:text-cyber-green transition-none",children:[c.jsx("span",{children:v?d.codigo_sms:d.codigo_sms.substring(0,3)+"..."}),c.jsx(ha,{size:14,className:v?"rotate-180":""})]}):c.jsxs("div",{className:"flex items-center gap-2 text-cyber-orange",children:[c.jsx(Pg,{size:14,className:"animate-spin"}),c.jsx("span",{className:"text-sm",children:"Aguardando"})]})}),c.jsx("td",{className:"p-4",children:c.jsxs("span",{className:"text-white font-mono text-sm",children:[d.minutos_restantes," min"]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 text-xs font-medium ${p.bgColor} ${p.textColor}`,children:p.label})}),c.jsxs("td",{className:"p-4",children:[!s&&c.jsxs("button",{onClick:()=>n(d.id),disabled:d.status!=="aguardando",className:"flex items-center gap-1 px-3 py-1 bg-cyber-red border-2 border-cyber-red text-white text-sm font-medium hover:bg-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-none",children:[c.jsx(ji,{size:14}),c.jsx("span",{children:"Cancelar"})]}),s&&c.jsx("span",{className:"text-white text-sm",children:"-"})]})]},d.id)})})]})}),c.jsxs("div",{className:"p-4 border-t-2 border-cyber-gray-light flex items-center justify-between",children:[c.jsxs("span",{className:"text-white text-sm",children:["Mostrando 1-10 de ",t.length," entradas"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green hover:text-cyber-green transition-none",children:"Anterior"}),c.jsx("button",{className:"px-3 py-1 bg-cyber-green text-cyber-black font-medium",children:"1"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"2"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"3"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"4"}),c.jsx("span",{className:"text-white",children:"..."}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"16"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green hover:text-cyber-green transition-none",children:"Prximo"})]})]})]})}function Yg({activations:t,services:e,onCopyNumber:r}){const n=i=>e.find(o=>o.id===i),s=i=>{switch(i){case"cancelado":return{label:"Cancelado",bgColor:"bg-cyber-red",textColor:"text-white"};case"expirado":return{label:"Expirado",bgColor:"bg-cyber-gray-light",textColor:"text-white"};case"concluido":return{label:"Concludo",bgColor:"bg-cyber-green",textColor:"text-cyber-black"};default:return{label:i,bgColor:"bg-cyber-gray-light",textColor:"text-white"}}};return c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green",children:[c.jsxs("div",{className:"p-4 border-b-2 border-cyber-green flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-cyber-green animate-pulse"}),c.jsx("span",{className:"text-cyber-green text-lg font-bold",children:"Histrico de Ativaes"})]}),c.jsxs("span",{className:"text-white text-sm",children:["Mostrando 1-10 de ",t.length," entradas"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-cyber-gray-light",children:[c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Servio"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Nmero"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Cdigo SMS"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Preo"}),c.jsx("th",{className:"text-left p-4 text-cyber-green text-sm font-medium uppercase",children:"Status"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center p-8 text-white",children:"Nenhum histrico disponvel"})}):t.map(i=>{const o=n(i.service_id),l=s(i.status);return c.jsxs("tr",{className:"border-b border-cyber-gray-light hover:bg-cyber-gray-medium transition-none",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white text-sm",children:(o==null?void 0:o.name)||"Servio desconhecido"}),(o==null?void 0:o.category)&&c.jsxs("span",{className:"text-xs text-cyber-gray-light",children:["(",o.category,")"]})]})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white font-mono text-sm",children:i.numero}),c.jsx("button",{onClick:()=>r(i.numero),className:"p-1 hover:bg-cyber-gray-light transition-none",children:c.jsx(fa,{size:14,className:"text-cyber-green"})})]})}),c.jsx("td",{className:"p-4",children:i.codigo_sms?c.jsx("span",{className:"text-cyber-green font-mono text-sm font-bold",children:i.codigo_sms}):c.jsx("span",{className:"text-white text-sm",children:"-"})}),c.jsx("td",{className:"p-4",children:c.jsxs("span",{className:"text-white text-sm font-medium",children:["R$ ",i.preco_pago.toFixed(2)]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 text-xs font-medium ${l.bgColor} ${l.textColor}`,children:l.label})})]},i.id)})})]})}),c.jsxs("div",{className:"p-4 border-t-2 border-cyber-gray-light flex items-center justify-between",children:[c.jsxs("span",{className:"text-white text-sm",children:["Mostrando 1-10 de ",t.length," entradas"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green hover:text-cyber-green transition-none",children:"Anterior"}),c.jsx("button",{className:"px-3 py-1 bg-cyber-green text-cyber-black font-medium",children:"1"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"2"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"3"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"4"}),c.jsx("span",{className:"text-white",children:"..."}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green transition-none",children:"16"}),c.jsx("button",{className:"px-3 py-1 border-2 border-cyber-gray-light text-white hover:border-cyber-green hover:text-cyber-green transition-none",children:"Prximo"})]})]})]})}function Xg({message:t,type:e,onClose:r}){$.useEffect(()=>{const i=setTimeout(()=>{r()},3e3);return()=>clearTimeout(i)},[r]);const n={success:{icon:wg,bgColor:"bg-cyber-green",textColor:"text-cyber-black"},error:{icon:Mg,bgColor:"bg-cyber-red",textColor:"text-white"},info:{icon:oh,bgColor:"bg-cyber-blue",textColor:"text-cyber-black"}},s=n[e].icon;return c.jsxs("div",{className:`fixed bottom-6 right-6 ${n[e].bgColor} ${n[e].textColor} border-2 border-current p-4 flex items-center gap-3 min-w-80 shadow-lg z-50`,children:[c.jsx(s,{size:20}),c.jsx("span",{className:"flex-1 font-medium",children:t}),c.jsx("button",{onClick:r,className:"hover:opacity-70 transition-none",children:c.jsx(ji,{size:18})})]})}function Zg({onClose:t,onConfirm:e}){const[r,n]=$.useState("pix"),[s,i]=$.useState(""),[o,l]=$.useState(null),a=[{id:"pix",nome:"PIX",icon:kg,descricao:"Sem bnus",bgColor:"bg-cyber-green",borderColor:"border-cyber-green",textColor:"text-cyber-black"},{id:"picpay",nome:"Picpay",icon:Ug,descricao:"Sem bnus",bgColor:"bg-cyber-green",borderColor:"border-cyber-green",textColor:"text-cyber-black"},{id:"cripto",nome:"Criptomoeda",icon:vg,descricao:"Ganhe 20% de bnus",bgColor:"bg-cyber-green",borderColor:"border-cyber-green",textColor:"text-cyber-black"}],u=[20,30,50,100],d=()=>{const w=o||parseFloat(s.replace(",","."));w&&w>0&&(e(r,w),t())},h=w=>{l(w),i("")},p=w=>{const x=w.replace(/\D/g,"");return x===""?"":(parseInt(x,10)/100).toFixed(2).replace(".",",")},v=w=>{const x=p(w.target.value);i(x),l(null)},y=a.find(w=>w.id===r);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-cyber-gray-dark border-4 border-cyber-green max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b-2 border-cyber-green flex items-center justify-between",children:[c.jsx("h2",{className:"text-cyber-green text-2xl font-bold font-mono",children:"RECARREGAR"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-cyber-gray-light transition-none",children:c.jsx(ji,{size:24,className:"text-cyber-green"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:a.map(w=>{const x=w.icon,g=r===w.id;return c.jsx("button",{onClick:()=>n(w.id),className:`
                    p-6 border-4 transition-none text-left
                    ${g?`${w.bgColor} ${w.borderColor} ${w.textColor}`:"bg-cyber-gray-medium border-cyber-gray-light text-white hover:border-cyber-green"}
                  `,children:c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:`w-12 h-12 border-2 flex items-center justify-center ${g?"border-cyber-black bg-cyber-black":"border-current"}`,children:c.jsx(x,{size:24,className:g?"text-cyber-green":"text-current"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-lg",children:w.nome}),c.jsx("div",{className:`text-sm ${g?"opacity-80":"text-white"}`,children:w.descricao})]})]})},w.id)})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-white text-sm mb-3 uppercase tracking-wider",children:"Selecione o valor"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:u.map(w=>c.jsxs("button",{onClick:()=>h(w),className:`
                    py-3 px-6 border-2 font-bold font-mono text-lg transition-none
                    ${o===w?`${y==null?void 0:y.bgColor} ${y==null?void 0:y.borderColor} ${y==null?void 0:y.textColor}`:"bg-cyber-gray-medium border-cyber-gray-light text-white hover:border-cyber-green"}
                  `,children:["R$",w]},w))}),c.jsx("input",{type:"text",placeholder:"Digite o valor",value:s,onChange:v,className:`
                w-full px-4 py-3 border-2 font-mono text-lg
                focus:outline-none transition-none
                ${s?`${y==null?void 0:y.bgColor} ${y==null?void 0:y.borderColor} ${y==null?void 0:y.textColor} placeholder-opacity-50`:"bg-cyber-gray-medium border-cyber-gray-light text-white placeholder-cyber-gray-light focus:border-cyber-green"}
              `})]}),c.jsx("button",{onClick:d,disabled:!o&&!s,className:`
              w-full py-4 border-2 text-lg font-bold transition-none
              ${o||s?`${y==null?void 0:y.bgColor} ${y==null?void 0:y.borderColor} ${y==null?void 0:y.textColor} hover:opacity-90`:"bg-cyber-gray-medium border-cyber-gray-light text-cyber-gray-light cursor-not-allowed"}
            `,children:"Prosseguir"})]})]})})}function em({userPin:t,onSave:e,onChangePassword:r}){const[n,s]=$.useState({pin:t,nome:"",email:"",cpf_cnpj:"",cep:"",estado:"",cidade:"",bairro:"",rua:"",numero:""}),i=(l,a)=>{s(u=>({...u,[l]:a}))},o=l=>{l.preventDefault(),e(n)};return c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green h-full",children:[c.jsxs("div",{className:"p-6 border-b-2 border-cyber-green flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-cyber-green flex items-center justify-center",children:c.jsx(li,{size:24,className:"text-cyber-black"})}),c.jsx("span",{className:"text-cyber-green text-lg font-bold uppercase tracking-wider",children:"PERFIL"}),c.jsx("span",{className:"text-white text-sm",children:"Gerencie suas informaes pessoais"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-cyber-green animate-pulse"}),c.jsx("span",{className:"text-cyber-green text-sm font-mono",children:"ONLINE"})]})]}),c.jsxs("form",{onSubmit:o,className:"p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"PIN de Cliente"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:`#${n.pin}`,disabled:!0,className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none opacity-70 cursor-not-allowed"}),c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"w-2 h-2 bg-cyber-green"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Nome Completo"}),c.jsx("input",{type:"text",value:n.nome,onChange:l=>i("nome",l.target.value),placeholder:"Digite seu nome completo",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Email"}),c.jsx("input",{type:"email",value:n.email,onChange:l=>i("email",l.target.value),placeholder:"seu@email.com",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"CPF/CNPJ"}),c.jsx("input",{type:"text",value:n.cpf_cnpj,onChange:l=>i("cpf_cnpj",l.target.value),placeholder:"000.000.000-00",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]})]}),c.jsxs("div",{className:"border-t-2 border-cyber-gray-light pt-6 mb-6",children:[c.jsxs("h3",{className:"text-cyber-green text-sm font-bold uppercase mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"w-1 h-4 bg-cyber-green"}),"ENDEREO"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"CEP"}),c.jsx("input",{type:"text",value:n.cep,onChange:l=>i("cep",l.target.value),placeholder:"00000-000",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Estado"}),c.jsx("input",{type:"text",value:n.estado,onChange:l=>i("estado",l.target.value),placeholder:"UF",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Cidade"}),c.jsx("input",{type:"text",value:n.cidade,onChange:l=>i("cidade",l.target.value),placeholder:"Digite a cidade",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Bairro"}),c.jsx("input",{type:"text",value:n.bairro,onChange:l=>i("bairro",l.target.value),placeholder:"Digite o bairro",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Rua/Avenida"}),c.jsx("input",{type:"text",value:n.rua,onChange:l=>i("rua",l.target.value),placeholder:"Digite a rua",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Nmero"}),c.jsx("input",{type:"text",value:n.numero,onChange:l=>i("numero",l.target.value),placeholder:"N",className:"w-full px-4 py-3 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t-2 border-cyber-gray-light",children:[c.jsxs("button",{type:"button",onClick:r,className:"px-6 py-3 bg-cyber-gray-medium border border-cyber-green text-cyber-green font-bold text-sm uppercase tracking-wider hover:bg-cyber-green hover:text-cyber-black transition-none flex items-center gap-2",children:[c.jsx(Cg,{size:18}),"Nova Senha"]}),c.jsxs("button",{type:"submit",className:"px-8 py-3 bg-cyber-green border border-cyber-green text-cyber-black font-bold text-sm uppercase tracking-wider hover:bg-transparent hover:text-cyber-green transition-none flex items-center gap-2",children:[c.jsx(Ig,{size:18}),"Salvar"]})]})]})]})}function tm({onClose:t,onLogin:e,onRegister:r}){const[n,s]=$.useState("login"),[i,o]=$.useState(""),[l,a]=$.useState(""),[u,d]=$.useState(""),[h,p]=$.useState(!1),[v,y]=$.useState(!1),[w,x]=$.useState(""),g=async f=>{f.preventDefault(),x(""),y(!0);try{if(n==="login")await e(l,u);else{if(n==="register"&&!i.trim()){x("Por favor, informe seu nome");return}await r(l,u,i)}}catch(m){x(m.message||"Ocorreu um erro. Tente novamente.")}finally{y(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green w-full max-w-md relative",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 p-1 hover:bg-cyber-green/20 transition-none",children:c.jsx(ji,{size:24,className:"text-cyber-green"})}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-10 h-10 bg-cyber-green flex items-center justify-center",children:c.jsx(li,{size:24,className:"text-cyber-black"})}),c.jsx("h2",{className:"text-cyber-green text-2xl font-bold uppercase tracking-wider",children:n==="login"?"Login":"Criar Conta"})]}),c.jsxs("div",{className:"flex gap-2 mb-6",children:[c.jsx("button",{onClick:()=>s("login"),className:`flex-1 py-2 border-2 font-bold text-sm uppercase tracking-wider transition-none ${n==="login"?"bg-cyber-green text-cyber-black border-cyber-green":"bg-cyber-gray-medium text-cyber-green border-cyber-gray-light hover:border-cyber-green"}`,children:"Login"}),c.jsx("button",{onClick:()=>s("register"),className:`flex-1 py-2 border-2 font-bold text-sm uppercase tracking-wider transition-none ${n==="register"?"bg-cyber-green text-cyber-black border-cyber-green":"bg-cyber-gray-medium text-cyber-green border-cyber-gray-light hover:border-cyber-green"}`,children:"Registrar"})]}),w&&c.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-500 text-red-400 text-sm",children:w}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n==="register"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Nome"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),placeholder:"Seu nome",className:"w-full px-4 py-3 pl-10 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400",required:!0}),c.jsx(li,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-cyber-green"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:l,onChange:f=>a(f.target.value),placeholder:"seu@email.com",className:"w-full px-4 py-3 pl-10 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400",required:!0}),c.jsx($g,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-cyber-green"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-cyber-green text-xs font-bold mb-2 uppercase tracking-wider",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:h?"text":"password",value:u,onChange:f=>d(f.target.value),placeholder:"Digite sua senha",className:"w-full px-4 py-3 pl-10 pr-10 bg-cyber-gray-medium border border-cyber-gray-light text-white font-mono focus:outline-none focus:border-cyber-green transition-none placeholder-gray-400",required:!0,minLength:6}),c.jsx(Tg,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-cyber-green"}),c.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-cyber-green/20 transition-none",children:h?c.jsx(Sg,{size:18,className:"text-cyber-green"}):c.jsx(Eg,{size:18,className:"text-cyber-green"})})]}),n==="register"&&c.jsx("p",{className:"text-cyber-gray-light text-xs mt-1",children:"Mnimo de 6 caracteres"})]}),c.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-cyber-green border-2 border-cyber-green text-cyber-black font-bold text-sm uppercase tracking-wider hover:bg-transparent hover:text-cyber-green transition-none disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Processando...":n==="login"?"Entrar":"Criar Conta"})]}),n==="login"&&c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{className:"text-cyber-green text-sm hover:underline",children:"Esqueceu sua senha?"})})]})]})})}const rm="modulepreload",nm=function(t){return"/painel_vendas/"+t},Tu={},ts=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=nm(a),a in Tu)return;Tu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":rm,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},sm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class pa extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class im extends pa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ou extends pa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends pa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ll||(ll={}));var om=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class lm{constructor(e,{headers:r={},customFetch:n,region:s=ll.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=sm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return om(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new im(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Ou(h);if(!h.ok)throw new Ru(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Ou?s.context:void 0}}})}}var Ee={},ga={},Ci={},rs={},Ni={},Pi={},am=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xr=am();const um=Xr.fetch,ah=Xr.fetch.bind(Xr),uh=Xr.Headers,cm=Xr.Request,dm=Xr.Response,rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:uh,Request:cm,Response:dm,default:ah,fetch:um},Symbol.toStringTag,{value:"Module"})),hm=Fh(rn);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let fm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=fm;var ch=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const pm=ch(hm),gm=ch(Ti);let mm=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let d=null,h=null,p=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&x===""?(v=204,y="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new gm.default(d)}return{error:d,data:h,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Pi.default=mm;var ym=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const vm=ym(Pi);let wm=class extends vm.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ni.default=wm;var _m=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});const xm=_m(Ni);let bm=class extends xm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};rs.default=bm;var km=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const pn=km(rs);let Sm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new pn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new pn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new pn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new pn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ci.default=Sm;var dh=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ga,"__esModule",{value:!0});const Em=dh(Ci),jm=dh(rs);let Cm=class hh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Em.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new jm.default({method:l,url:a,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ga.default=Cm;var nn=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const fh=nn(ga);Ee.PostgrestClient=fh.default;const ph=nn(Ci);Ee.PostgrestQueryBuilder=ph.default;const gh=nn(rs);Ee.PostgrestFilterBuilder=gh.default;const mh=nn(Ni);Ee.PostgrestTransformBuilder=mh.default;const yh=nn(Pi);Ee.PostgrestBuilder=yh.default;const vh=nn(Ti);Ee.PostgrestError=vh.default;var Nm=Ee.default={PostgrestClient:fh.default,PostgrestQueryBuilder:ph.default,PostgrestFilterBuilder:gh.default,PostgrestTransformBuilder:mh.default,PostgrestBuilder:yh.default,PostgrestError:vh.default};const{PostgrestClient:Pm,PostgrestQueryBuilder:Ev,PostgrestFilterBuilder:jv,PostgrestTransformBuilder:Cv,PostgrestBuilder:Nv,PostgrestError:Pv}=Nm;class Tm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Om="2.15.5",Rm=`realtime-js/${Om}`,$m="1.0.0",al=1e4,Am=1e3,Im=100;var Pn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pn||(Pn={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var ul;(function(t){t.websocket="websocket"})(ul||(ul={}));var nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nr||(nr={}));class Lm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class wh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const $u=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Um(o,t,e,s),i),{})},Um=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?_h(i,o):cl(o)},_h=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Fm(e,r)}switch(t){case W.bool:return Dm(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return zm(e);case W.json:case W.jsonb:return Mm(e);case W.timestamp:return Bm(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return cl(e);default:return cl(e)}},cl=t=>t,Dm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Mm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Fm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_h(e,l))}return t},Bm=t=>typeof t=="string"?t.replace(" ","T"):t,xh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class oo{constructor(e,r,n={},s=al){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Au;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Au||(Au={}));class Tn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Tn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),y=d.filter(x=>v.indexOf(x.presence_ref)<0),w=h.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(a[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...p)}n(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iu||(Iu={}));var On;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(On||(On={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class ma{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new oo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tn(this),this.broadcastEndpointURL=xh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[On.PRESENCE]&&this.bindings[On.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(mt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<x;f++){const m=w[f],{filter:{event:_,schema:S,table:k,filter:E}}=m,P=v&&v[f];if(P&&P.event===_&&P.schema===S&&P.table===k&&P.filter===E)g.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(mt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ie.joined&&e===On.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new oo(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Im){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Je;if(n&&[l,a,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,x,g,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:x,commit_timestamp:g,type:f,errors:m}=y;p=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ma.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$u(e.columns,e.old_record)),r}}const lo=()=>{},xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wm=[1e3,2e3,5e3,1e4],Hm=1e4,Vm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qm{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=al,this.transport=null,this.heartbeatIntervalMs=xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lo,this.ref=0,this.reconnectTimer=null,this.logger=lo,this.conn=null,this.sendBuffer=[],this.serializer=new Lm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ts(async()=>{const{default:l}=await Promise.resolve().then(()=>rn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ul.websocket}`,this.httpEndpoint=xh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$m}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pn.connecting:return nr.Connecting;case Pn.open:return nr.Open;case Pn.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ma(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Am,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Vm],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Rm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,a,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:al,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:lo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>Wm[h-1]||Hm,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ya extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Km extends ya{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dl extends ya{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Gm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const bh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Qm=()=>Gm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ts(()=>Promise.resolve().then(()=>rn),void 0)).Response:Response}),hl=t=>{if(Array.isArray(t))return t.map(r=>hl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=hl(n)}),e},Jm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ym=(t,e,r)=>mr(void 0,void 0,void 0,function*(){const n=yield Qm();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Km(ao(s),i,o))}).catch(s=>{e(new dl(ao(s),s))}):e(new dl(ao(t),t))}),Xm=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Jm(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ns(t,e,r,n,s,i){return mr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Xm(e,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Ym(a,l,n))})})}function ai(t,e,r,n){return mr(this,void 0,void 0,function*(){return ns(t,"GET",e,r,n)})}function it(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return ns(t,"POST",e,n,s,r)})}function fl(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return ns(t,"PUT",e,n,s,r)})}function Zm(t,e,r,n){return mr(this,void 0,void 0,function*(){return ns(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kh(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return ns(t,"DELETE",e,n,s,r)})}var we=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const ey={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ty{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=bh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?fl:it)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:Lu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield fl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ya("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return we(this,void 0,void 0,function*(){try{const s=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}download(e,r){return we(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}})}info(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Zm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof dl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(e,r,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ey),r),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}listV2(e,r){return we(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield it(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ry="2.12.1",ny={"X-Client-Info":`storage-js/${ry}`};var _r=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class sy{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ny),r),this.fetch=bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _r(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}class iy extends sy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new ty(this.url,this.headers,e,this.fetch)}}const oy="2.57.4";let wn="";typeof Deno<"u"?wn="deno":typeof document<"u"?wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wn="react-native":wn="node";const ly={"X-Client-Info":`supabase-js-${wn}/${oy}`},ay={headers:ly},uy={schema:"public"},cy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dy={};var hy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const fy=t=>{let e;return t?e=t:typeof fetch>"u"?e=ah:e=fetch,(...r)=>e(...r)},py=()=>typeof Headers>"u"?uh:Headers,gy=(t,e,r)=>{const n=fy(r),s=py();return(i,o)=>hy(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var my=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};function yy(t){return t.endsWith("/")?t:t+"/"}function vy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>my(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function wy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sh="2.71.1",Er=30*1e3,pl=3,uo=pl*Er,_y="http://localhost:9999",xy="supabase.auth.token",by={"X-Client-Info":`gotrue-js/${Sh}`},gl="X-Supabase-Api-Version",Eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ky=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sy=10*60*1e3;class va extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ey extends va{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jy(t){return I(t)&&t.name==="AuthApiError"}class jh extends va{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jt extends va{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Pt extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cy(t){return I(t)&&t.name==="AuthSessionMissingError"}class bs extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends Jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends Jt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ny(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Uu extends Jt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ml extends Jt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function co(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Du extends Jt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yl extends Jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),Py=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=e;return t})();function Mu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ui[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ui[n]),e.queuedBits-=6}}function Ch(t,e,r){const n=Py[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ry(o,n,r)};for(let o=0;o<t.length;o+=1)Ch(t.charCodeAt(o),s,i);return e.join("")}function Ty(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Oy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ty(n,e)}}function Ry(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $y(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ch(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Ay(t){const e=[];return Oy(t,r=>e.push(r)),new Uint8Array(e)}function Iy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Mu(s,r,n)),Mu(null,r,n),e.join("")}function Ly(t){return Math.round(Date.now()/1e3)+t}function Uy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Nh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Dy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},zy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nt=async(t,e)=>{await t.removeItem(e)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Oi.promiseConstructor=Promise;function ho(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ky.test(e[n]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Fu(e[0])),payload:JSON.parse(Fu(e[1])),signature:$y(e[2]),raw:{header:e[0],payload:e[1]}}}async function My(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Fy(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function By(t){return("0"+t.toString(16)).substr(-2)}function Wy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,By).join("")}async function Hy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Vy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Hy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(t,e,r=!1){const n=Wy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jr(t,`${e}-code-verifier`,s);const i=await Vy(n);return[i,n===i?"plain":"s256"]}const qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ky(t){const e=t.headers.get(gl);if(!e||!e.match(qy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Qy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(t){if(!Jy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bu(t){return JSON.parse(JSON.stringify(t))}var Yy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xy=[502,503,504];async function Wu(t){var e;if(!zy(t))throw new ml(rr(t),0);if(Xy.includes(t.status))throw new ml(rr(t),t.status);let r;try{r=await t.json()}catch(i){throw new jh(rr(i),i)}let n;const s=Ky(t);if(s&&s.getTime()>=Eh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Du(rr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Du(rr(r),t.status,r.weak_password.reasons);throw new Ey(rr(r),t.status||500,n)}const Zy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[gl]||(i[gl]=Eh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await ev(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function ev(t,e,r,n,s,i){const o=Zy(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new ml(rr(a),0)}if(l.ok||await Wu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Wu(a)}}function pt(t){var e;let r=null;sv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ly(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Hu(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tv(t){return{data:t,error:null}}function rv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Yy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function nv(t){return t}function sv(t){return t.access_token&&t.refresh_token&&t.expires_in}const po=["global","local","others"];var iv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class ov{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ph(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=po[0]){if(po.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=iv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nv});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){br(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){br(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){br(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){br(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){br(e.userId),br(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function lv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Nh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Th extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class av extends Th{}async function uv(t,e,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new av(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lv();const cv={url:_y,storageKey:xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:by,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qu(t,e,r){return await r()}const Sr={};class Qn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qn.nextInstanceID,Qn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},cv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ov({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ph(s.fetch),this.lock=s.lock||qu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uv:this.lock=qu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Nh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Dy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ny(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new jh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await xr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pt})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else throw new ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,a,u,d,h,p,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:g,statement:f,options:m}=e;let _;if(Ke())if(typeof g=="object")_=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Iy(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pt});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new bs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(I(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new bs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xr(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ks("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:tv})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ks("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<uo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=fo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if(I(r))return Cy(r)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await xr(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ho(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ke())throw new Ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Uu("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new Ss("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const v=p-d;v*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(jy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Uy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fy(async s=>(s>0&&await My(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&co(i)&&Date.now()+o-n<Er})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await jr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:fo()}else if(s&&!s.user&&!s.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Nt(this.storage,this.storageKey+"-user"),await jr(this.storage,this.storageKey,s)):s.user=fo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),co(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return co(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Bu(s);await jr(this.storage,this.storageKey,i)}else{const s=Bu(r);await jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Er}ms, refresh threshold is ${pl} ticks`),s<=pl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Th)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await xr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ho(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Sy>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=ho(n);r!=null&&r.allowExpired||Gy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Qy(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Ay(`${l}.${a}`)))throw new yl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}Qn.nextInstanceID=0;const dv=Qn;class hv extends dv{constructor(e){super(e)}}var fv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class pv{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=wy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:uy,realtime:dy,auth:Object.assign(Object.assign({},cy),{storageKey:a}),global:ay},d=vy(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pm(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new lm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return fv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gv=(t,e,r)=>new pv(t,e,r);function mv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yv=void 0,vv=void 0;throw new Error("Missing Supabase environment variables");const ft=gv(yv,vv);function wv(){const[t,e]=$.useState("dashboard"),[r,n]=$.useState(0),[s,i]=$.useState(1),[o,l]=$.useState("todas"),[a,u]=$.useState([]),[d,h]=$.useState([]),[p,v]=$.useState([]),[y,w]=$.useState([]),[x,g]=$.useState([]),[f,m]=$.useState(!1),[_,S]=$.useState(""),[k,E]=$.useState(null),[P,G]=$.useState(!1),[L,ne]=$.useState(!1),[Ue,jt]=$.useState(null),[tt,Yt]=$.useState(null),[ut,ct]=$.useState(null),[N,R]=$.useState(!1),[A,V]=$.useState(new Set),Q=!!Ue;$.useEffect(()=>{yr(),sn();const T=setInterval(()=>{vr()},6e4);return()=>{clearInterval(T)}},[]);const yr=async()=>{const T=localStorage.getItem("customerId"),O=localStorage.getItem("customerEmail"),j=localStorage.getItem("customerPin");if(console.log(" [checkUser] CustomerId from localStorage:",T),console.log(" [checkUser] CustomerEmail from localStorage:",O),console.log(" [checkUser] CustomerPin from localStorage:",j),T&&O&&j){const M=parseInt(T,10),de=parseInt(j,10);console.log(" [checkUser] Parsed CustomerId:",M),console.log(" [checkUser] Parsed CustomerPin:",de),jt({id:M,email:O}),ct(M),Yt(de);try{const ht=await De.getCustomerById(M);ht&&(n(ht.balance/100),console.log(" [checkUser] Customer loaded, balance:",ht.balance/100))}catch(ht){console.error(" [checkUser] Error loading customer:",ht)}await Te(),await dt()}};$.useEffect(()=>{tt&&Ri()},[tt]);const dt=async()=>{try{const{data:T,error:O}=await ft.from("activations").select("*").eq("status","aguardando").not("manus_activation_id","is",null);!O&&T&&T.forEach(j=>{j.manus_activation_id&&wa(j.manus_activation_id)})}catch(T){console.error("Error starting polling:",T)}},sn=async()=>{try{R(!0);const[T,O]=await Promise.all([De.getServices(),De.getCountries()]),j=T.map(M=>({id:M.id,name:M.name,smshubCode:M.code,category:M.category,active:!0}));u(j),h(O.map(M=>({...M,active:!0}))),O.length>0&&i(O[0].id)}catch(T){console.error("Error loading data from Manus API:",T)}finally{R(!1)}},Te=async()=>{if(!Ue)return;const{data:T,error:O}=await ft.from("activations").select("*").eq("user_id",Ue.id).eq("status","aguardando").order("created_at",{ascending:!1}).limit(10);O?console.error("Error loading activations:",O):T&&v(T)},vr=()=>{v(T=>T.map(O=>{if(O.status==="aguardando"&&O.minutos_restantes>0){const j=O.minutos_restantes-1;return j===0?(Oh(O.id),{...O,minutos_restantes:0,status:"expirado"}):{...O,minutos_restantes:j}}return O}))},Oh=async T=>{const{error:O}=await ft.from("activations").update({status:"expirado",minutos_restantes:0}).eq("id",T);O&&console.error("Error updating expired activation:",O)},ee=(T,O)=>{E({message:T,type:O})},Rh=async T=>{if(!Q){ne(!0);return}if(x.includes(T)){const{error:O}=await ft.from("user_favorites").delete().eq("user_id",Ue.id).eq("service_id",T);O?(ee("Erro ao remover favorito","error"),console.error("Error removing favorite:",O)):(g(j=>j.filter(M=>M!==T)),ee("Removido dos favoritos","info"))}else{const{error:O}=await ft.from("user_favorites").insert({user_id:Ue.id,service_id:T});O?(ee("Erro ao adicionar favorito","error"),console.error("Error adding favorite:",O)):(g(j=>[...j,T]),ee("Adicionado aos favoritos","success"))}},$h=async(T,O)=>{if(console.log(" [handlePurchase] Starting purchase..."),console.log(" [handlePurchase] ServiceId:",T),console.log(" [handlePurchase] Price:",O),console.log(" [handlePurchase] IsAuthenticated:",Q),console.log(" [handlePurchase] CustomerId:",ut),console.log(" [handlePurchase] CustomerId type:",typeof ut),console.log(" [handlePurchase] Saldo:",r),!Q||!ut){console.error(" [handlePurchase] Not authenticated or no customerId"),ne(!0);return}if(r<O){console.error(" [handlePurchase] Insufficient balance"),ee("Saldo insuficiente. Faa uma recarga!","error");return}try{R(!0),console.log(" [handlePurchase] Calling API with:",{countryId:s,serviceId:T,customerId:ut});const j=await De.createActivation({countryId:s,serviceId:T,customerId:ut});console.log(" [handlePurchase] API Response:",j);const{error:M}=await ft.from("activations").insert({user_id:Ue.id,service_id:T,manus_activation_id:j.activationId,numero:j.phoneNumber,status:"aguardando",minutos_restantes:10,preco_pago:O});M?(ee("Erro ao salvar ativao","error"),console.error(" [handlePurchase] Error saving activation to Supabase:",M)):(console.log(" [handlePurchase] Activation saved successfully!"),ee("Nmero adquirido com sucesso!","success"),Te(),Ri(),wa(j.activationId))}catch(j){console.error(" [handlePurchase] Error creating activation:",j),j instanceof Error&&(console.error(" [handlePurchase] Error message:",j.message),console.error(" [handlePurchase] Error stack:",j.stack)),ee(j instanceof Error?j.message:"Erro ao criar ativao","error")}finally{R(!1)}},Ri=async()=>{if(tt)try{const T=await De.getCustomerByPin(tt);n(T.balance/100)}catch(T){console.error("Error updating balance:",T)}},wa=T=>{V(O=>new Set(O).add(T))},$i=T=>{V(O=>{const j=new Set(O);return j.delete(T),j})};$.useEffect(()=>{if(A.size===0)return;const T=setInterval(async()=>{for(const O of A)try{const j=await De.getActivationStatus(O);if(j.status==="completed"&&j.smsCode){const{error:M}=await ft.from("activations").update({codigo_sms:j.smsCode,sms_text:j.smsText,status:"concluido",completed_at:j.completedAt}).eq("manus_activation_id",O);M||(ee("Cdigo SMS recebido!","success"),Te(),$i(O))}else if(j.status==="cancelled"){const{error:M}=await ft.from("activations").update({status:"cancelado"}).eq("manus_activation_id",O);M||(Te(),$i(O))}}catch(j){console.error("Error polling activation status:",j)}},5e3);return()=>clearInterval(T)},[A]);const _a=T=>{navigator.clipboard.writeText(T),ee("Nmero copiado!","success")},Ah=async T=>{const O=p.find(j=>j.id===T);if(!(!O||!O.manus_activation_id))try{if(R(!0),(await De.cancelActivation(O.manus_activation_id)).success){const{error:M}=await ft.from("activations").update({status:"cancelado"}).eq("id",T);M?ee("Erro ao atualizar status","error"):(ee("Ativao cancelada. Saldo reembolsado.","info"),Te(),Ri(),$i(O.manus_activation_id))}}catch(j){console.error("Error canceling activation:",j),ee(j instanceof Error?j.message:"Erro ao cancelar ativao","error")}finally{R(!1)}},Ih=(T,O)=>{const j=T==="cripto"?O*.2:0,M=O+j;n(de=>de+M),j>0?ee(`Recarga de R$ ${O.toFixed(2)} + R$ ${j.toFixed(2)} de bnus realizada!`,"success"):ee(`Recarga de R$ ${O.toFixed(2)} realizada com sucesso!`,"success")},Lh=T=>{ee("Perfil atualizado com sucesso!","success")},Uh=()=>{ee("Funcionalidade de alterao de senha em desenvolvimento","info")},Dh=async(T,O)=>{try{R(!0);const j=await De.getCustomerByEmail(T);if(!j||!j.active)throw new Error("Cliente no encontrado ou inativo");localStorage.setItem("customerId",String(j.id)),localStorage.setItem("customerEmail",j.email),localStorage.setItem("customerName",j.name),localStorage.setItem("customerPin",String(j.pin)),console.log(" [handleLogin] Saved to localStorage:",{customerId:j.id,customerEmail:j.email,customerPin:j.pin}),ct(j.id),Yt(j.pin),n(j.balance/100),console.log(" [handleLogin] State updated:",{customerId:j.id,saldo:j.balance/100}),ne(!1),ee("Login realizado com sucesso!","success")}catch(j){throw j}finally{R(!1)}},zh=async(T,O,j)=>{try{R(!0);const M=j||T.split("@")[0];let de;try{de=await De.createCustomer(T,M)}catch(ht){if(ht.message.includes("409")||ht.message.includes("already exists")){const rt=await De.getCustomerByEmail(T);if(rt){localStorage.setItem("customerId",String(rt.id)),localStorage.setItem("customerEmail",rt.email),localStorage.setItem("customerName",rt.name),localStorage.setItem("customerPin",String(rt.pin)),console.log(" [handleRegister] Existing customer, saved to localStorage:",{customerId:rt.id,customerEmail:rt.email}),ct(rt.id),Yt(rt.pin),n(rt.balance/100),ne(!1),ee("Bem-vindo de volta! Login realizado.","success");return}}throw ht}localStorage.setItem("customerId",String(de.id)),localStorage.setItem("customerEmail",de.email),localStorage.setItem("customerName",de.name),localStorage.setItem("customerPin",String(de.pin)),console.log(" [handleRegister] New customer, saved to localStorage:",{customerId:de.id,customerEmail:de.email}),ct(de.id),Yt(de.pin),n(de.balance/100),ne(!1),ee("Conta criada com sucesso!","success")}catch(M){console.error("Registration error:",M);const de=(M==null?void 0:M.message)||"Erro desconhecido ao criar conta";throw new Error(de)}finally{R(!1)}},Mh=async()=>{try{jt(null),Yt(null),ct(null),n(0),v([]),w([]),g([]),V(new Set),De.clearCache(),localStorage.clear(),sessionStorage.clear(),e("dashboard"),ne(!0),ee("Logout realizado com sucesso","success")}catch(T){console.error("Erro ao fazer logout:",T),ee("Erro ao fazer logout","error")}};return c.jsxs("div",{className:"min-h-screen bg-cyber-black text-white font-sans",children:[c.jsx(Fg,{userPin:tt,currentPage:t,onNavigate:e,onLoginClick:()=>ne(!0),onLogout:Mh,isAuthenticated:Q}),c.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[c.jsx(Qg,{saldo:r,selectedCountry:s,selectedOperator:o,services:a,countries:d,favorites:x,showFavoritesOnly:f,searchQuery:_,onRecarregar:()=>G(!0),onCountryChange:i,onOperatorChange:l,onToggleFavorite:Rh,onPurchase:$h,onToggleFavoritesFilter:()=>m(T=>!T),onSearchChange:S}),c.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[t==="dashboard"&&c.jsx(Jg,{activations:p,services:a,onCopyNumber:_a,onCancelActivation:Ah}),t==="historico"&&c.jsx(Yg,{activations:y,services:a,onCopyNumber:_a}),t==="recarga"&&c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green p-8 text-center",children:[c.jsx("h2",{className:"text-cyber-green text-2xl font-bold mb-4",children:"Recarga"}),c.jsx("p",{className:"text-cyber-gray-light",children:"Pgina de recarga em desenvolvimento"})]}),t==="faq"&&c.jsxs("div",{className:"bg-cyber-gray-dark border-2 border-cyber-green p-8 text-center",children:[c.jsx("h2",{className:"text-cyber-green text-2xl font-bold mb-4",children:"Perguntas Frequentes"}),c.jsx("p",{className:"text-cyber-gray-light",children:"Pgina de FAQ em desenvolvimento"})]}),t==="perfil"&&Q&&tt&&c.jsx(em,{userPin:tt,onSave:Lh,onChangePassword:Uh})]})]}),k&&c.jsx(Xg,{message:k.message,type:k.type,onClose:()=>E(null)}),P&&c.jsx(Zg,{onClose:()=>G(!1),onConfirm:Ih}),L&&c.jsx(tm,{onClose:()=>ne(!1),onLogin:Dh,onRegister:zh})]})}ih(document.getElementById("root")).render(c.jsx($.StrictMode,{children:c.jsx(wv,{})}));
